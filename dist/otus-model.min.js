"use strict";!function(){angular.module("otusjs.model.activity",["otus.validation"])}(),function(){angular.module("otusjs.model.chart",[])}(),function(){angular.module("otusjs.laboratory",["otusjs.laboratory.participant","otusjs.laboratory.configuration","otusjs.laboratory.transportation","otusjs.laboratory.exam"])}(),function(){angular.module("otusjs.model.locationPoint",[])}(),function(){angular.module("otusjs.model.fieldCenter",[])}(),function(){angular.module("otusjs.metadata",[])}(),function(){angular.module("otusjs.misc",[])}(),function(){angular.module("otusjs.model.monitoring",[])}(),function(){angular.module("otusjs.model.outcome",[])}(),function(){angular.module("otusjs.model.navigation",[])}(),function(){angular.module("otusjs.model.participant",[])}(),function(){angular.module("otusjs.model.pendency",[])}(),function(){angular.module("otusjs.staticVariable",[])}(),function(){angular.module("otusjs.survey",[])}(),function(){angular.module("otusjs.surveyItem",[])}(),function(){angular.module("otusjs.surveyItemGroup",[])}(),function(){angular.module("otusjs.user",["otusjs.user.permission"])}(),function(){angular.module("otusjs.validation",[])}(),function(){angular.module("otusjs.laboratory.configuration",[])}(),function(){angular.module("otusjs.laboratory.exam",["otusjs.laboratory.exam.lot","otusjs.laboratory.exam.sending"])}(),function(){angular.module("otusjs.laboratory.participant",[])}(),function(){angular.module("otusjs.laboratory.transportation",[])}(),function(){angular.module("otusjs.user.permission",[])}(),function(){angular.module("otusjs.laboratory.exam.lot",[])}(),function(){angular.module("otusjs.laboratory.exam.sending",[])}(),function(){angular.module("otusjs",["otusjs.survey","otusjs.model.activity","otusjs.model.participant","otusjs.model.fieldCenter","otusjs.model.locationPoint","otusjs.model.monitoring","otusjs.model.outcome","otusjs.model.chart","otusjs.surveyItem","otusjs.surveyItemGroup","otusjs.staticVariable","otusjs.metadata","otusjs.misc","otusjs.model.navigation","otusjs.validation","otusjs.laboratory","otusjs.user","utils","otusjs.model.pendency"])}(),function(){function t(t,e,n,o,r,i){function a(){return t}function u(){return e}function c(){return n}function s(){return o}function l(){return r}function f(){return i}var m=this;m.getSurveyItemFactory=a,m.getIdiomFactory=u,m.getUnitFactory=c,m.getSurveyFactory=s,m.getSurveyIdentityFactory=l,m.getMetadataGroupFactory=f}angular.module("otusjs").service("ModelFacadeService",t),t.$inject=["SurveyItemFactory","IdiomFactory","UnitFactory","SurveyFactory","SurveyIdentityFactory","MetadataGroupFactory"]}(),function(){function t(t,n){function o(o){return new e(t,n,o)}function r(o){return Array.isArray(o)?o.map(function(o){return new e(t,n,o)}):[]}var i=this;return i.create=o,i.fromJson=r,i}function e(t,e,n){function o(){u=e.getAliquotDescriptor(c.name),r(u)}function r(t){c.label=t.label,c.containerLabel="CRYOTUBE"===c.container.toUpperCase()?"Criotubo":"Palheta",c.roleLabel="EXAM"===c.role.toUpperCase()?"Exame":"Armazenamento"}function i(){var e=t("date")(new Date(s.value),"dd/MM/yyyy");return{aliquota:c.code,sexo:l,nascimento:e}}function a(){var t={objectType:c.objectType,code:c.code,fieldCenter:c.fieldCenter,name:c.name,container:c.container,role:c.role,sex:l,birthdate:s,recruitmentNumber:f,aliquotCollectionData:c.aliquotCollectionData};return t}var u,c=this,s=n.birthdate,l=n.sex,f=n.recruitmentNumber;c.objectType=n.objectType||"WorkAliquot",c.name=n.name||"",c.role=n.role||"",c.code=n.code||"",c.container=n.container||"",c.fieldCenter=n.fieldCenter||"",c.aliquotCollectionData=n.aliquotCollectionData,c.label=n.label||"",c.containerLabel=n.containerLabel||"",c.roleLabel=n.roleLabel||"",c.toJSON=a,c.getAliquotToCsv=i,c.hasError=!1,o()}angular.module("otusjs.laboratory").factory("otusjs.laboratory.WorkAliquotFactory",t),t.$inject=["$filter","otusjs.laboratory.configuration.LaboratoryConfigurationService"]}(),function(){function t(t,n){function o(o){return new e(t,n,o)}function r(o){return Array.isArray(o)?o.map(function(o){return new e(t,n,o)}):[]}var i=this;return i.create=o,i.fromJson=r,i}function e(t,e,n){function o(){u=e.getTubeDescriptor(s.type),c=e.getMomentDescriptor(s.moment),r(u,c)}function r(t,e){s.typeLabel=t.label,s.momentLabel=e.label}function i(){return{tubo:s.code,tipo:s.typeLabel,momento:s.momentLabel}}function a(){var t={objectType:s.objectType,code:s.code,type:s.type,moment:s.moment,groupName:s.groupName,tubeCollectionData:s.tubeCollectionData};return t}var u,c,s=this;s.objectType=n.objectType||"WorkTube",s.type=n.type||"",s.moment=n.moment||"",s.code=n.code||"",s.groupName=n.groupName||"",s.tubeCollectionData=n.tubeCollectionData,s.typeLabel=n.typeLabel||"",s.momentLabel=n.momentLabel||"",s.toJSON=a,s.getTubeToCsv=i,s.hasError=!1,o()}angular.module("otusjs.laboratory").factory("otusjs.laboratory.WorkTubeFactory",t),t.$inject=["$filter","otusjs.laboratory.configuration.LaboratoryConfigurationService"]}(),function(){function t(){function t(){return new e}function n(t){var n=new e(t.label,t.name,t.sending,t.bindToWholeTemplate,t.customizations,t.bindTo);return n.value=t.value,n}var o=this;return o.create=t,o.fromJson=n,o}function e(t,e,o,r,i,a){function u(){y.customized=!!y.customizations.length,m()}function c(t,e){if(!t)throw new Error("Customization must have a value");if(d(t))throw new Error("Customization with value "+t+"already exists.");y.customizations.push(new n(t,e))}function s(t){return y.customizations.splice(t,1)}function l(t){y.value=t,m()}function f(t){y.customizations=t.map(function(t){return new n(t.value,t.label)})}function m(){var t=y.value.toString(),e=y.customizations.find(function(e){return e.value===t});return e?void(y.translatedValue=e.label):void(y.translatedValue=t)}function d(t){return y.customizations.find(function(e){return e.value===t})}function v(){var t={};return t.objectType=y.objectType,t.name=y.name,t.label=y.label,t.sending=y.sending,t.bindToWholeTemplate=y.bindToWholeTemplate,t.bindTo=y.bindTo,t.customizations=y.customizations,t}var y=this;return y.objectType="StaticVariable",y.name=e||"",y.label=t||"",y.sending=o||"",y.customized=!1,y.bindToWholeTemplate=void 0===r||r,y.bindTo=a||[],y.value="",y.customizations=i||[],u(),y.setCustomizations=f,y.addCustomization=c,y.removeCustomization=s,y.setValue=l,y.toJSON=v,y}function n(t,e){function n(){var t={};return t.objectType=o.objectType,t.value=o.value,t.label=o.label,t}var o=this;return o.toJSON=n,o.objectType="StaticVariableCustomization",o.value=t,o.label=e||"",o}angular.module("otusjs.staticVariable").factory("otusjs.staticVariable.StaticVariableFactory",t),t.$inject=[]}(),function(){function t(t){function n(){return new e(t)}var o=this;return o.create=n,o}function e(t){function e(e){e.forEach(function(e){try{o(t.fromJson(e))}catch(n){}})}function n(){return t.create()}function o(t){f(t),u(t.name,t.sending),d.push(t)}function r(t){d.splice(t,1)}function i(t,e){f(e),d[t]=e}function a(){return d}function u(t,e){return d.findIndex(function(n){return n.name===t&&n.sending===e})}function c(t){t.forEach(function(t){var e=u(t.name,t.sending);d[e].setValue(t.value)})}function s(){return d.filter(function(t){return t.bindToWholeTemplate===!0})}function l(t){return d.filter(function(e){return e.bindTo.includes(t)})}function f(t){if(!t.name)throw new Error("Variable with empty name can't be added");if(!t.sending)throw new Error("Variable with empty sending id can't be added")}var m=this,d=[];m.loadJsonData=e,m.create=n,m.add=o,m.remove=r,m.update=i,m.getStaticVariableList=a,m.fillVariables=c,m.getWholeTemplateVariables=s,m.getItemVariables=l}angular.module("otusjs.staticVariable").service("otusjs.staticVariable.StaticVariableManagerFactory",t),t.$inject=["otusjs.staticVariable.StaticVariableFactory"]}(),function(){function t(){function t(t){return new e(t)}function n(t){var n=new e;return n.rewrite(t),n}var o=this;return o.create=t,o.fromJson=n,o}function e(t){function e(){if(t&&t.length){var e=t.shift(),o=t.pop();c.start=e,c.end=o,c.members.push(new n(e,s.START)),t.forEach(function(t){c.members.push(new n(t,s.MIDDLE))}),c.members.push(new n(o,s.END))}}function o(t){return c.members.find(function(e){return e.id===t})}function r(t){var e=c.getMember(t);if(c.members.length<=2)throw new Error("A group must have at least 2 members");if(e)if("start"===e.position){c.members.splice(0,1);var n=c.members[0];c.start=n.id,n.position="start"}else if("end"===e.position){c.members.splice(-1,1);var o=c.members[c.members.length-1];c.end=o.id,o.position="end"}else if("middle"===e.position){var r=c.members.indexOf(e);c.members.splice(r,1)}}function i(t){return!!o(t)}function a(t){t&&t.objectType===c.objectType&&(c.start=t.start,c.end=t.end,c.members=t.members)}function u(){var t={};return t.objectType=c.objectType,t.start=c.start,t.end=c.end,t.members=c.members,t}var c=this,s={START:"start",MIDDLE:"middle",END:"end"};return c.objectType="SurveyItemGroup",c.start="",c.end="",c.members=[],c.hasMember=i,c.getMember=o,c.removeMember=r,c.rewrite=a,e(),c.toJSON=u,c}function n(t,e){return{id:t,position:e}}angular.module("otusjs.surveyItemGroup").factory("otusjs.surveyItemGroup.SurveyItemGroupFactory",t),t.$inject=[]}(),function(){function t(t,n){function o(){return new e(t,n)}var r=this;return r.create=o,r}function e(t,e){function n(t){g=t?t.map(function(t){return e.fromJson(t)}):[]}function o(e,n){var o=t.getSurveyItemManager().getItemByPosition(n);if(o){var i=u(o.templateID);if(i){var a=i.getMember(o.templateID);if(a&&"start"!==a.position)throw new Error("Can not move item to inside of an existing group")}}r(e)}function r(t){var e=u(t);e&&(e&&e.members.length<=2?s(e.start):e.removeMember(t))}function i(){return g}function a(t){return g.find(function(e){return e.start===t})}function u(t){var e=void 0,n=!0,o=!1,r=void 0;try{for(var i,a=g[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(u.hasMember(t)){e=u;break}}}catch(c){o=!0,r=c}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw r}}return e}function c(t){l(t);var n=e.create(t),o=a(n.start);return o?o.rewrite(n):g.push(n),n}function s(t){var e=g.findIndex(function(e){return e.start===t});if(e>-1)return g.splice(e,1),!0}function l(t){if(t.length<2)throw new Error("Groups should be composed of more than one member");var e=f(t[0]);t.forEach(function(t,n){if(e[n]!==t)throw new Error(t+" cannot be added to the group")})}function f(e){var n=t.getNavigationManager().getNavigationByOrigin(e),o=u(e);return d(n)?m(o,n.getDefaultRoute().destination,[e]):[e]}function m(e,n,o){var r=t.getNavigationManager().getNavigationByOrigin(n),i=u(n);return!i||e&&e.start===i.start?y(r)?(o.push(n),m(e,r.getDefaultRoute().destination,o)):v(r)?(o.push(n),o):o:o}function d(t){return!t.isEndNode(t)&&!t.hasMultipleOutRoutes(t)}function v(t){return!t.isEndNode(t)&&!t.hasMultipleInNavigations(t)}function y(t){return!t.hasMultipleOutRoutes(t)&&!t.isEndNode(t)&&!t.hasMultipleInNavigations(t)}var p=this,g=[];p.loadJsonData=n,p.allowItemMovement=o,p.removeItemFromGroup=r,p.getSurveyItemGroupList=i,p.getGroupByStart=a,p.getGroupByMember=u,p.createGroup=c,p.deleteGroup=s,p.getGroupCandidates=f}angular.module("otusjs.surveyItemGroup").service("otusjs.surveyItemGroup.SurveyItemGroupManagerFactory",t),t.$inject=["otusjs.survey.ManagerCenterService","otusjs.surveyItemGroup.SurveyItemGroupFactory"]}(),function(){function t(){function t(t){return new e(t)}var n=this;return n.OBJECT_TYPE="ActivityBasicModelFactory",n.fromJsonObject=t,n}function e(t){var e=this;e._id=t._id,e.objectType="ActivityBasicModel",e.acronym=t.acronym,e.name=t.name,e.mode=t.mode,e.category=t.category,e.lastStatus=t.lastStatus,e.externalID=t.externalID}angular.module("otusjs.model.activity").factory("otusjs.model.activity.ActivityBasicFactory",t),t.$inject=[]}(),function(){angular.module("otusjs.model.activity").constant("ACTIVITY_CONSTANTS",{MODE:{AUTOFILL:"AUTOFILL",ONLINE:"ONLINE",PAPER:"PAPER",OFFLINE:"OFFLINE"},STATUS:{CREATED:"CREATED",INITIALIZED_OFFLINE:"INITIALIZED_OFFLINE",INITIALIZED_ONLINE:"INITIALIZED_ONLINE",OPENED:"OPENED",SAVED:"SAVED",FINALIZED:"FINALIZED",REOPENED:"REOPENED"}})}(),function(){function t(t,o,r,i,a){function u(o,r,a,u,c,s,l){n.FillingManager.init();var f=t.create();f.newCreatedRegistry(r);var m=i.create(),d=new e(o,a,f,m,c,s,l);return d.mode="ONLINE",d.category=u.category,d.setNavigationTracker(n.NavigationTrackerFactory.create(d.getExportableList(),0)),d}function c(o,r,a,u,c,s,l,f){n.FillingManager.init();var m=t.create();m.newCreatedRegistry(r),m.newInitializedOfflineRegistry(u);var d=i.create(),v=new e(o,a,m,d,s,l,f);return v.mode="PAPER",v.category=c.category,v.setNavigationTracker(n.NavigationTrackerFactory.create(v.getExportableList(),0)),v}function s(o,r){n.FillingManager.init();var a=t.create();a.newCreatedRegistry(r);var u=i.create(),c=new e(o,{},a,u,null,null,stageId);return c.mode="OFFLINE",c.category={},c.setNavigationTracker(n.NavigationTrackerFactory.create(c.getExportableList(),0)),c}function l(o,r,a,u,c,s,l){n.FillingManager.init();var f=t.create();f.newCreatedRegistry(r);var m=i.create(),d=new e(o,a,f,m,c,s,l);return d.mode="AUTOFILL",d.category=u.category,d.setNavigationTracker(n.NavigationTrackerFactory.create(d.getExportableList(),0)),d}function f(n){var r=a.fromJsonObject(n.surveyForm),u=n.participantData,c=t.fromJsonObject(n.statusHistory),s=i.fromJsonObject(n.interviews),l=n._id,f=new e(r,u,c,s,l);return f.category=n.category,f.fillContainer=o.fromJsonObject(n.fillContainer),f.isDiscarded=n.isDiscarded,f.mode=n.mode,f.statusHistory=t.fromJsonObject(n.statusHistory),f.interviews=i.fromJsonObject(n.interviews),f.externalID=n.externalID,f.stageId=n.stageId,m(f,n),f}function m(t,e){e.navigationTracker?t.setNavigationTracker(n.NavigationTrackerFactory.fromJsonObject(e.navigationTracker)):t.setNavigationTracker(n.NavigationTrackerFactory.create(t.getExportableList(),0))}n.FillingManager=o.create(),n.NavigationTrackerFactory=r,n.SurveyFormFactory=a;var d=this;return d.OBJECT_TYPE="Activity",d.create=u,d.createPaperActivity=c,d.createAutoFillActivity=l,d.createOfflineActivity=s,d.fromJsonObject=f,d}function e(t,e,o,r,i,a,u){function c(){return E}function s(){return y().getItems()}function l(t){return y().getGroupByItemID(t)}function f(t){return y().getGroupItemsByItemID(t)}function m(){return y().NavigationManager.getNavigationList()}function d(){var t=y().NavigationManager.getNavigationList();return t.slice(2,t.length)}function v(){return y().getAllDataSources()}function y(){return F()?A.surveyForm:A.surveyForm.surveyTemplate}function p(){var t=y();return t.identity?t.identity:t}function g(){return p().name}function b(){var t=A.statusHistory.getFinalizedRegistries(),e=t[t.length-1],n=A.statusHistory.getInitializedOfflineRegistry();if(e)return e.date;if(n)return n.date;throw new Error("Can not determine the realization date of Activity.")}function j(){return A.navigationTracker}function I(){A.navigationTracker.getSkippedItems().forEach(function(t){A.fillContainer.clearFilling(t.getID())})}function h(t){A.navigationTracker=t}function T(){return y().getStaticVariableList()}function S(){return y().getWholeTemplateVariableList()}function D(t){return y().getItemStaticVariableList(t)}function O(t){return y().fillStaticVariablesValues(t)}function w(){var t={};return t.objectType=A.objectType,t._id=E,t.surveyForm=A.surveyForm,t.participantData=A.participantData,t.category=A.category,t.mode=A.mode,t.fillContainer=A.fillContainer.buildJsonToFillContainer(),t.statusHistory=A.statusHistory.toJSON().map(function(t){return t}),t.interviews=A.interviews.toJSON().map(function(t){return t}),t.isDiscarded=A.isDiscarded,t.navigationTracker=A.navigationTracker,t.externalID=A.externalID,t.stageId=A.stageId,t}function N(){return JSON.parse(JSON.stringify(A))}function F(){return!A.surveyForm.surveyTemplate}function x(){return A.surveyForm.isRequiredExternalID()}var A=this,E=i||null;A.objectType="Activity",A.surveyForm=t,A.participantData=e,A.interviews=r,A.fillContainer=n.FillingManager,A.statusHistory=o,A.isDiscarded=!1,A.externalID=a||null,A.stageId=u||null,A.getID=c,A.getItems=s,A.getGroupByItemID=l,A.getGroupItemsByItemID=f,A.getNavigations=m,A.getExportableList=d,A.getTemplate=y,A.getIdentity=p,A.getName=g,A.getRealizationDate=b,A.getNavigationTracker=j,A.setNavigationTracker=h,A.clearSkippedAnswers=I,A.getDataSources=v,A.getStaticVariableList=T,A.getWholeTemplateVariableList=S,A.getItemStaticVariableList=D,A.fillStaticVariablesValues=O,A.toJSON=w,A.toObjectJson=N,A.hasRequiredExternalID=x}angular.module("otusjs.model.activity").factory("otusjs.model.activity.ActivityFactory",t),t.$inject=["otusjs.model.activity.StatusHistoryManagerFactory","otusjs.model.activity.FillingManagerFactory","otusjs.model.navigation.NavigationTrackerFactory","otusjs.model.activity.InterviewManagerFactory","SurveyFormFactory"];var n={}}(),function(){function t(){function t(t){return new e(t)}var n=this;return n.OBJECT_TYPE="ActivityParticipantData",n.create=t,n}function e(t){function e(){var t={};return t.objectType=n.objectType,t.recruitmentNumber=n.recruitmentNumber,t.name=n.name,t.fieldCenter=n.fieldCenter,t}var n=this;n.objectType="ActivityParticipantData",n.recruitmentNumber=t.recruitmentNumber,n.name=t.name,n.fieldCenter=t.fieldCenter,n.toJSON=e}angular.module("otusjs.model.activity").factory("otusjs.model.activity.ActivityParticipantDataFactory",t)}(),function(){function t(){function t(t){return new e(t)}function n(t){return Array.isArray(t)?t.map(function(t){return new e(t)}):new e(t)}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t){function e(t){throw new Error(t)}function n(t){i(t)?u.isUserExists(t)||u.exclusiveDisjunction.push(t.toLowerCase()):u.showError("Email invalid!")}function o(t){if(i(t)){var e=u.exclusiveDisjunction.indexOf(t.toLowerCase());e>-1&&u.exclusiveDisjunction.splice(e,1)}else u.showError("Email invalid!")}function r(t){var e=u.exclusiveDisjunction.indexOf(t.toLowerCase());return e>-1}function i(t){var e=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}/gi;return e.test(t)}function a(){return{_id:u._id,objectType:u.objectType,acronym:u.acronym,version:u.version,exclusiveDisjunction:u.exclusiveDisjunction}}var u=this;u.showError=e,u.addUser=n,u.removeUser=o,u.isUserExists=r,u.toJSON=a,u._id="_id"in t?t._id:null,u.objectType="ActivityPermission",u.acronym="surveyTemplate"in t?t.surveyTemplate.identity.acronym.toUpperCase():t.acronym.toUpperCase(),u.version=t.version?t.version:u.showError("Version invalid"),u.exclusiveDisjunction=Array.isArray(t.exclusiveDisjunction)?t.exclusiveDisjunction:[]}angular.module("otusjs.model.activity").factory("otusjs.model.activity.ActivityPermissionFactory",t),t.$inject=[]}(),function(){function t(t){function o(n){return new e(t.STATUS.CREATED,n)}function r(n){return new e(t.STATUS.INITIALIZED_OFFLINE,n.checker,n.realizationDate)}function i(n){return new e(t.STATUS.INITIALIZED_ONLINE,n)}function a(n){return new e(t.STATUS.OPENED,n)}function u(n){return new e(t.STATUS.SAVED,n)}function c(n){return new e(t.STATUS.FINALIZED,n)}function s(n){return new e(t.STATUS.REOPENED,n)}function l(t){var n=new e(t.name,t.user);return n.date=new Date(t.date),n}var f=this;return f.OBJECT_TYPE="ActivityStatus",n=t.STATUS.INITIALIZED_OFFLINE,f.createCreatedStatus=o,f.createInitializedOfflineStatus=r,f.createInitializedOnlineStatus=i,f.createOpenedStatus=a,f.createSavedStatus=u,f.createFinalizedStatus=c,f.createReopenedStatus=s,f.fromJsonObject=l,f}function e(t,e,o){function r(t){u.name===n&&(u.user=angular.copy(t))}function i(t){u.name===n&&(u.date=angular.copy(t))}function a(){return{objectType:u.objectType,name:u.name,date:u.date,user:u.user}}var u=this;u.objectType="ActivityStatus",u.name=t,u.date=o||new Date,u.user=e,u.toJSON=a,u.setUser=r,u.setDate=i}angular.module("otusjs.model.activity").factory("otusjs.model.activity.ActivityStatusFactory",t),t.inject=["ACTIVITY_CONSTANTS"];var n=""}(),function(){function t(){function t(t,n){return new e(t,n)}var n=this;return n.OBJECT_TYPE="ActivityUser",n.create=t,n}function e(t,e){function n(){var t={};return t.objectType=o.objectType,t.name=o.name,t.email=o.email,t}var o=this;o.objectType="ActivityUser",o.name=t,o.email=e,o.toJSON=n}angular.module("otusjs.model.activity").factory("otusjs.model.activity.ActivityUserFactory",t)}(),function(){function t(t,n){function o(n,o){return new e(o,t.getEvaluator(n),n)}function r(t){return"CalendarQuestion"!==t.type&&"TimeQuestion"!==t.type||null===t.value?o(t.type,t.value):o(t.type,new n(t.value.value))}var i=this;return i.OBJECT_TYPE="AnswerFill",i.create=o,i.fromJsonObject=r,i}function e(t,e,n){function o(){return null!==a.value}function r(){a.value=null}function i(){var t={};return t.objectType=a.objectType,t.type=a.type,t.value=a.value,t}var a=this;a.objectType="AnswerFill",a.type=n,a.value=void 0===t?null:t,a.eval=e,a.isFilled=o,a.clear=r,a.toJSON=i}angular.module("otusjs.model.activity").factory("otusjs.model.activity.AnswerFillFactory",t),t.$inject=["otusjs.model.activity.AnswerEvaluationService","otusjs.utils.ImmutableDate"]}(),function(){function t(t,n){function o(){return new e({},t,n)}function r(o){return new e(o,t,n)}function i(o){var r=Array.prototype.concat.apply(o);return r.map(function(o){return new e(o,t,n)})}var a=this;return a.create=o,a.fromJson=r,a.fromArray=i,a}function e(t,e,n){function o(t){a(t)&&(t.groupObservation=c.observation,t.groupId=c._id,c.collections.push(e.fromJson(t)))}function r(t){Array.prototype.concat.apply(t).forEach(function(t){c.addCollection(t)})}function i(t){t>=0&&t<c.collections.length&&c.collections.splice(t,1)}function a(t){return t.objectType===s}function u(){var t={};return t._id=c._id,t.objectType=c.objectType,t.observation=c.observation,t.collections=c.collections,t}var c=this,s="OfflineActivityCollection";c.objectType="GroupOfflineActivityCollection",c._id=t._id?new n(t._id).toString():(new n).toString(),c.observation=t.observation||"",c.collections=e.fromArray(t.collections||[]),c.addCollection=o,c.addCollections=r,c.removeCollection=i,c.toJSON=u}angular.module("otusjs.model.activity").factory("otusjs.model.activity.GroupOfflineActivityCollection",t),t.$inject=["otusjs.model.activity.OfflineActivityCollection","ObjectId"]}(),function(){function t(t){function n(n){var o=t.create(n);return new e(o)}function o(n){var o=t.fromJsonObject(n.interviewer),r=new e(o);return r.date=new Date(n.date),r}var r=this;return r.OBJECT_TYPE="Interview",r.create=n,r.fromJsonObject=o,r}function e(t){function e(){var t={};return t.objectType=n.objectType,t.date=n.date,t.interviewer=n.interviewer,t}var n=this;n.objectType="Interview",n.date=new Date,n.interviewer=t,n.toJSON=e}angular.module("otusjs.model.activity").factory("otusjs.model.activity.InterviewFactory",t),t.$inject=["otusjs.model.activity.InterviewerFactory"]}(),function(){function t(){function t(t){return new e(t||{})}function n(t){return new e(t)}var o=this;return o.OBJECT_TYPE="Interviewer",o.create=t,o.fromJsonObject=n,o}function e(t){function e(){return o.name+" "+o.surname}function n(){var t={};return t.objectType=o.objectType,t.name=o.name,t.surname=o.surname,t.email=o.email,t}var o=this;o.objectType="Interviewer",o.name=t.name,o.surname=t.surname,o.email=t.email,o.getFullname=e,o.toJSON=n}angular.module("otusjs.model.activity").factory("otusjs.model.activity.InterviewerFactory",t)}(),function(){function t(){function t(t){return new e(t)}function n(e){return t(e.value)}var o=this;return o.OBJECT_TYPE="MetadataFill",o.create=t,o.fromJsonObject=n,o}function e(t){function e(){return null!==r.value}function n(){r.value=null}function o(){var t={};return t.objectType=r.objectType,t.value=r.value,t}var r=this;r.objectType="MetadataFill",r.value=void 0===t?null:t,r.isFilled=e,r.clear=n,r.toJSON=o}angular.module("otusjs.model.activity").factory("otusjs.model.activity.MetadataFillFactory",t)}(),function(){function t(t,n){function o(){return new e({},t,n)}function r(o){return new e(o,t,n)}function i(o){var r=Array.prototype.concat.apply(o);return r.map(function(o){return new e(o,t,n)})}var a=this;return a.create=o,a.fromJson=r,a.fromArray=i,a}function e(t,e,n){function o(t){s.date=(new Date).toISOString(),s.geoJson=new n(t),s.hasInitialized=!0}function r(t){u(t)&&s.activities.push(t)}function i(t){Array.prototype.concat.apply(t).forEach(function(t){s.addActivity(t)})}function a(t){t>=0&&t<s.activities.length&&s.activities.splice(t,1)}function u(t){return t.objectType===l}function c(){var t={};return t._id=s._id,t.objectType=s.objectType,t.observation=s.observation,t.code=s.code,t.userId=s.userId,t.groupId=s.groupId,t.groupObservation=s.groupObservation,t.userEmail=s.userEmail,t.date=s.date,t.activities=s.activities,t.geoJson=s.geoJson,t}var s=this,l="Activity";s.objectType="OfflineActivityCollection",s._id=t._id?new e(t._id).toString():null,s.observation=t.observation||"",s.code=t.code||(new e).toString(),s.groupId=t.groupId||"",s.groupObservation=t.groupObservation||"",s.userId=t.userId?new e(t.userId).toString():null,s.userEmail=t.userEmail||null,s.date=t.date||null,s.activities=t.activities||[],s.geoJson=t.geoJson||null,s.hasInitialized=!!s.date,s.initialize=o,s.addActivity=r,s.addActivities=i,s.removeActivity=a,s.toJSON=c}angular.module("otusjs.model.activity").factory("otusjs.model.activity.OfflineActivityCollection",t),t.$inject=["ObjectId","GeoJSON"]}(),function(){function t(t,n){function o(o,r,i,a){var u=t.create(o.objectType,r),c=n.create(i);return new e(o,u,c,a)}function r(o){var r=t.fromJsonObject(o.answer),i=n.fromJsonObject(o.metadata),a=new e({templateID:o.questionID},r,i,o.comment);return a.forceAnswer=o.forceAnswer,a}var i=this;return i.OBJECT_TYPE="QuestionFill",i.create=o,i.fromJsonObject=r,i}function e(t,e,n,o){function r(){return c.answer.isFilled()||c.metadata.isFilled()||!!c.comment}function i(){return null===c.answer.value||""===c.answer.value.trim()}function a(){c.answer.clear(),c.metadata.clear(),c.comment=""}function u(){var t={};return t.objectType=c.objectType,t.questionID=c.questionID,t.forceAnswer=c.forceAnswer,t.answer=c.answer,t.metadata=c.metadata,t.comment=c.comment,t.accept=c.accept,t}var c=this;c.objectType="QuestionFill",c.questionID=t.templateID,c.answer=e,c.metadata=n,c.comment=void 0===o?"":o,c.forceAnswer=!1,c.isFilled=r,c.isIgnored=i,c.clear=a,c.toJSON=u}angular.module("otusjs.model.activity").factory("otusjs.model.activity.QuestionFillFactory",t),t.$inject=["otusjs.model.activity.AnswerFillFactory","otusjs.model.activity.MetadataFillFactory"]}(),function(){function t(){function t(t,n){return r(t),new e(t,n)}function n(t){if(Array.isArray(t))return t.map(function(t){return i.fromJsonObject(t)});throw new Error("Validation error: Malformed array")}function o(t){return r(t.activityID),new e(t.activityID,t.revisionDate,t.user)}function r(t){if(!t)throw new Error("Validation error: Activity ID not found")}var i=this;return i.create=t,i.fromJson=n,i.fromJsonObject=o,i}function e(t,e,n){function o(){var t={};return t.objectType=r.objectType,t.activityID=r.activityID,t.revisionDate=r.revisionDate,t}var r=this;r.objectType="ActivityRevision",r.activityID=t||"",r.revisionDate=e||new Date,r.user=n||null,r.toJSON=o}angular.module("otusjs.model.activity").factory("otusjs.model.activity.RevisionFactory",t)}(),function(){function t(t,e,n,o,r,i,a){function u(t,e,n,r,i,a){F.surveyActivity=o.create(t,e,n,r,null,i,a)}function c(t,e,n,r,i,a,u){F.surveyActivity=o.createPaperActivity(t,e,n,r,i,null,a,u)}function s(t,e,n,r,i,a){F.surveyActivity=o.createAutoFillActivity(t,e,n,r,null,i,a)}function l(){return x}function f(t){x=t,F.surveyActivity.statusHistory.newOpenedRegistry(x)}function m(){F.surveyActivity.statusHistory.newInitializedOnlineRegistry(x)}function d(){F.surveyActivity.statusHistory.newFinalizedRegistry(x),F.surveyActivity.interviews.newRegistry(x)}function v(){F.surveyActivity.statusHistory.newSavedRegistry(x),F.surveyActivity.interviews.newRegistry(x)}function y(){F.surveyActivity.statusHistory.newReopenedRegistry(x),F.surveyActivity.interviews.newRegistry(x)}function p(t,e,o,r){return n.create(t,e,o,r)}function g(t){F.surveyActivity.fillContainer.updateFilling(t)}function b(t){return F.surveyActivity.fillContainer.searchFillingByID(t)}function j(){F.surveyActivity.clearSkippedAnswers()}function I(){return F.surveyActivity.getNavigationTracker()}function h(t,e){return i.create(t,e)}function T(t){return i.fromJson(t)}function S(){return F.surveyActivity.getWholeTemplateVariableList()}function D(t){return F.surveyActivity.getItemStaticVariableList(t)}function O(t){return F.surveyActivity.fillStaticVariablesValues(t)}function w(){return F.surveyActivity.hasRequiredExternalID()}function N(){return a}var F=this,x=null;F.surveyActivity=null,F.createActivity=u,F.createPaperActivity=c,F.createAutoFillActivity=s,F.createQuestionFill=p,F.fillQuestion=g,F.getInterviewer=l,F.openActivitySurvey=f,F.initializeActivitySurvey=m,F.finalizeActivitySurvey=d,F.saveActivitySurvey=v,F.reopenActivitySurvey=y,F.getFillingByQuestionID=b,F.clearSkippedAnswers=j,F.getNavigationTracker=I,F.createActivityRevision=h,F.createActivityRevisionFromJson=T,F.getWholeTemplateVariableList=S,F.getItemStaticVariableList=D,F.fillStaticVariablesValues=O,F.hasRequiredExternalID=w,F.getActivityBasicFactory=N}angular.module("otusjs.model.activity").service("otusjs.model.activity.ActivityFacadeService",t),t.$inject=["otusjs.model.activity.AnswerFillFactory","otusjs.model.activity.MetadataFillFactory","otusjs.model.activity.QuestionFillFactory","otusjs.model.activity.ActivityFactory","otusjs.model.activity.InterviewFactory","otusjs.model.activity.RevisionFactory","otusjs.model.activity.ActivityBasicFactory"]}(),function(){function t(t){function n(){return new e}function o(n){var o=n.fillingList.map(t.fromJsonObject),r=new e;return r.init(o),r}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(){function t(t){d=t||[]}function e(){return d.length}function n(t){var e=c(t);return e?e.index:null}function o(t){return!!c(t)}function r(t){var e=c(t);return e?e.filling:null}function i(t){return t.isFilled()?o(t.questionID)?l(t):void s(t):f(t.questionID)}function a(t){f(t)}function u(){var t={};return t.fillingList=d.map(function(t){return t.toJSON()}),t}function c(t){var e;return d.forEach(function(n,o){n.questionID===t&&(e={},e.filling=n,e.index=o)}),e}function s(t){d.push(t)}function l(t){var e=c(t.questionID);return void 0!==e?d.splice(e.index,1,t)[0]:null}function f(t){var e=c(t);return void 0!==e?d.splice(e.index,1)[0]:null}var m=this,d=[];m.init=t,m.listSize=e,m.getFillingIndex=n,m.existsFillingTo=o,m.searchFillingByID=r,m.updateFilling=i,m.clearFilling=a,m.buildJsonToFillContainer=u}angular.module("otusjs.model.activity").factory("otusjs.model.activity.FillingManagerFactory",t),t.$inject=["otusjs.model.activity.QuestionFillFactory"]}(),function(){function t(t){function o(){return new e}function r(t){var e=[];t.map(function(t){e.push(n.InterviewFactory.fromJsonObject(t))});var r=o();return r.init(e),r}n.InterviewFactory=t;var i=this;return i.OBJECT_TYPE="InterviewManager",i.create=o,i.fromJsonObject=r,i}function e(){function t(t){c=t||[]}function e(t){c.push(n.InterviewFactory.create(t))}function o(){return c}function r(){return c[c.length-1]}function i(){return c.length}function a(){return c}var u=this,c=[];u.init=t,u.newRegistry=e,u.getInterviewSizeOfList=i,u.getInterviews=o,u.getLastStatus=r,u.toJSON=a}angular.module("otusjs.model.activity").factory("otusjs.model.activity.InterviewManagerFactory",t),t.$inject=["otusjs.model.activity.InterviewFactory"];var n={}}(),function(){function t(t,r){function i(){return new e}function a(t){var e=[];t.map(function(t){e.push(n.ActivityStatusFactory.fromJsonObject(t))});var o=i();return o.init(e),o}n.ActivityStatusFactory=t;var u=this;return u.OBJECT_TYPE="StatusHistoryManager",o=r.STATUS,u.create=i,u.fromJsonObject=a,u}function e(){function t(t){g=t||[]}function e(){return g}function r(){
return g[g.length-1]}function i(){var t=g.filter(function(t){return t.name===o.INITIALIZED_OFFLINE});return t[0]}function a(){return g.filter(function(t){return t.name===o.FINALIZED})}function u(t){g.push(n.ActivityStatusFactory.createCreatedStatus(t))}function c(t){g.push(n.ActivityStatusFactory.createInitializedOfflineStatus(t))}function s(t){g.push(n.ActivityStatusFactory.createInitializedOnlineStatus(t))}function l(t){g.push(n.ActivityStatusFactory.createOpenedStatus(t))}function f(t){g.push(n.ActivityStatusFactory.createSavedStatus(t))}function m(t){g.push(n.ActivityStatusFactory.createFinalizedStatus(t))}function d(t){g.push(n.ActivityStatusFactory.createReopenedStatus(t))}function v(){return g.length}function y(){return g}var p=this,g=[];p.init=t,p.historySize=v,p.getHistory=e,p.getLastStatus=r,p.getInitializedOfflineRegistry=i,p.getFinalizedRegistries=a,p.newCreatedRegistry=u,p.newInitializedOfflineRegistry=c,p.newInitializedOnlineRegistry=s,p.newOpenedRegistry=l,p.newSavedRegistry=f,p.newFinalizedRegistry=m,p.newReopenedRegistry=d,p.toJSON=y}angular.module("otusjs.model.activity").factory("otusjs.model.activity.StatusHistoryManagerFactory",t),t.$inject=["otusjs.model.activity.ActivityStatusFactory","ACTIVITY_CONSTANTS"];var n={},o=null}(),function(){function t(){function t(t){return t.createOption()}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("AddAnswerOptionService",t)}(),function(){function t(){function t(t,e){return e.addItem(t)}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("AddSurveyItemService",t)}(),function(){function t(){function t(t,e){return e.loadItem(t.objectType,t.templateID)}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("LoadSurveyItemService",t)}(),function(){function t(){function t(t,e,n){t.moveItem(e,n)}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("MoveSurveyItemService",t)}(),function(){function t(){function t(t){t.removeLastOption()}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("RemoveAnswerOptionService",t)}(),function(){function t(){function t(t,e){e.removeItem(t.templateID)}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("RemoveSurveyItemService",t)}(),function(){function t(){function t(t,e,n){t.customID=e}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("UpdateSurveyItemCustomID",t)}(),function(){function t(){function t(t,e){return t.fillingRules.createOption(e)}var e=this;e.execute=t}angular.module("otusjs.validation").service("AddFillingRulesService",t)}(),function(){function t(){function t(t,e){t.fillingRules.removeFillingRules(e)}var e=this;e.execute=t}angular.module("otusjs.validation").service("RemoveFillingRulesWorkService",t)}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t){function n(){return new e}function o(n,o){var r=[],i=[];if(Array.isArray(n)&&"object"===("undefined"==typeof o?"undefined":_typeof(o))){i=Object.keys(n[0]);for(var a=function(a){r.push(n.map(function(n){var r=t.getLabel(n.title);return r=r?r:n.title,new e(o[i[a]],r,n[i[a]]).toJSON()}))},u=1;u<i.length;u++)a(u);return r}return[[]]}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t,e,n){function o(){var t={};return t.char_title=r.char_title,t.column=r.column,t.value=r.value,t}var r=this;r.toJSON=o,r.char_title=t||"",r.column=e||"",r.value=n||0}angular.module("otusjs.model.chart").factory("otusjs.model.chart.VerticalBarFactory",t),t.$inject=["otusjs.laboratory.configuration.AliquotDescriptorsService"]}(),function(){function t(){function t(t){return r[t]}function e(){return Object.keys(r)}function n(){return Object.values(r)}var o=this;o.getLabel=t,o.listDescriptors=e,o.listLabels=n;var r={BIOCHEMICAL_SERUM:"Bioquímica Soro",PCR:"PCR",FASTING_HORMONE_CENTRAL:"Hormônios Jejum Central",FASTING_HORMONE_LOCAL:"Hormônios Jejum Local",FASTING_GLYCEMIA_CENTRAL:"Glicemia Jejum Central",FASTING_GLYCEMIA_LOCAL:"Glicemia Jejum Local",FASTING_SERUM:"Soro Jejum",HBA1C:"HbA1C",FASTING_EDTA:"EDTA Jejum",BUFFY_COAT_RS:"Buffy Coat RS",BUFFY_COAT_MG:"Buffy Coat MG",POST_INSULINE_CENTRAL:"Insulina Pós Central",POST_INSULINE_LOCAL:"Insulina Pós Local",POST_GLYCEMIA:"Glicemia Pós",POST_SERUM:"Soro Pós",POST_GLYCEMIA_LOCAL:"Glicemia Pós Local",BIOCHEMICAL_URINE:"Bioquimica de Urina",URINARY_CALCIUM:"Cálcio Urinário",URINE:"Urina",POST_GLYCEMIA_1H:"Glicemia Pós-1h",POST_INSULINE_1H:"Insulina Pós-1h",FASTING_HORMONE:"Hormônios Jejum",FASTING_GLYCEMIA:"Glicemia Jejum",BUFFY_COAT:"Buffy Coat",POST_INSULINE:"Insulina Pós",CITRATED_PLASMA:"Plasma Citratato",POST_GLYCEMIA_CENTRAL:"Glicemia Pós Central"}}angular.module("otusjs.laboratory.configuration").service("otusjs.laboratory.configuration.AliquotDescriptorsService",t)}(),function(){function t(){function t(t,e){T=t,S=e}function e(t){g=t,b=g.aliquotConfiguration,j=g.tubeConfiguration,I=b.aliquotDescriptors,h=j.tubeDescriptors}function n(t){I=t}function o(t){h=t}function r(t){return!!I}function i(t){return!!h}function a(){return!!g}function u(t){return g?g.tubeConfiguration.tubeDescriptors.find(function(e){return e.name==t}):void p("laboratório")}function c(t){return g?g.collectMomentConfiguration.momentDescriptors.find(function(e){return e.name==t}):void p("laboratório")}function s(t,e){if(g)try{var n=y(),o=n.aliquotGroupDescriptors.find(function(t){return t.name===S}),r=o.aliquotMomentDescriptors.find(function(e){return e.name===t}).aliquotTypesDescriptors.find(function(t){return t.name===e}).aliquots;return r.map(function(t){var e=l(t.name);return e.role=t.role,e})}catch(i){var a="Configuração incompleta para: \n"+T.recruitmentNumber+" - "+T.fieldCenter.acronym+" - "+S+" - "+t+" - "+e;throw new Error(a)}else p("laboratório")}function l(t){if(I){var e=I.find(function(e){return e.name==t});if(e){var n=angular.copy(e);return n}var o="Configuração incompleta para: "+t;throw new Error(o)}p("alíquota")}function f(t){var e=g.codeConfiguration.waveNumberToken,n=0,o=String(t);return o[n]==e}function m(t){var e=2,n=String(t),o=g.codeConfiguration.tubeToken,r=g.codeConfiguration.palletToken,i=g.codeConfiguration.cryotubeToken,a=n[e];switch(!0){case a==o:return"TUBE";case a==r:return"PALLET";case a==i:return"CRYOTUBE";default:return""}}function d(){return g.codeConfiguration}function v(){var t=y();return t.aliquotCodeSizes}function y(){return b.aliquotCenterDescriptors.find(function(t){return t.name===T.fieldCenter.acronym})}function p(t){var e="Descritores de "+t+" não inicializados";throw new Error(e)}var g,b,j,I,h,T,S,D=this;return D.initializeParticipantConfiguration=t,D.initializeLaboratoryConfiguration=e,D.initializeAliquotsDescriptors=n,D.initializeTubesDescriptors=o,D.checkLaboratoryConfiguration=a,D.checkAliquotsDescriptors=r,D.checkTubesDescriptors=i,D.getAvaiableAliquots=s,D.getAliquotDescriptor=l,D.getTubeDescriptor=u,D.getMomentDescriptor=c,D.getAliquotContainer=m,D.validateAliquotWave=f,D.getCodeConfiguration=d,D.getAliquotLengths=v,D}angular.module("otusjs.laboratory.configuration").service("otusjs.laboratory.configuration.LaboratoryConfigurationService",t)}(),function(){function t(t,n){function o(o,r,i){return new e(t,n,o,r,i)}function r(o,r,i){return new e(t,n,JSON.parse(o),r,i)}var i=this;return i.create=o,i.fromJson=r,i}function e(t,e,n,o,r){function i(){l=angular.copy(n),e.initializeParticipantConfiguration(r,f.collectGroupName),a()}function a(){f.tubes=t.buildFromArray(n.tubes,o)}function u(){var t={objectType:f.objectType,recruitmentNumber:f.recruitmentNumber,collectGroupName:f.collectGroupName,tubes:f.tubes,exams:f.exams,locationPoint:f.locationPoint};return t}function c(){delete f.tubes,f.tubes=t.buildFromArray(angular.copy(l.tubes),o)}function s(){delete l.tubes,l.tubes=angular.copy(f.tubes)}var l,f=this;f.objectType=n.objectType||"ParticipantLaboratory",f.recruitmentNumber=n.recruitmentNumber,f.collectGroupName=n.collectGroupName,f.tubes=[],f.exams=n.exams,f.locationPoint=n.locationPoint,f.reloadTubeList=c,f.updateTubeList=s,f.toJSON=u,i()}angular.module("otusjs.laboratory.participant").factory("otusjs.laboratory.participant.ParticipantLaboratoryFactory",t),t.$inject=["otusjs.laboratory.participant.ParticipanTubeFactory","otusjs.laboratory.configuration.LaboratoryConfigurationService"]}(),function(){function t(t){function n(){}function o(n,o,r){var i=new e(n,o,t,r);return i}function r(n,o,r){return n.map(function(n){return new e(n,o,t,r)})}var i=this;return n(),i.create=o,i.buildFromArray=r,i}function e(t,e,n,o){function r(){s=o,c=e,i()}function i(){var t=c.tubeConfiguration.tubeDescriptors.find(function(t){return t.name==l.type}),e=c.collectMomentConfiguration.collectMomentDescriptors.find(function(t){return t.name==l.moment});l.label=t?t.label:"",l.boxColor=t?t.color:"",l.momentLabel=""!==e.label?e.label:"Nenhum"}function a(){l.tubeCollectionData.fill(s)}function u(){var t={objectType:l.objectType,type:l.type,moment:l.moment,code:l.code,groupName:l.groupName,aliquotes:l.aliquotes,order:l.order,tubeCollectionData:l.tubeCollectionData};return t}var c,s,l=this;l.objectType="Tube",l.type=t.type,l.code=t.code,l.moment=t.moment,l.groupName=t.groupName,l.aliquotes=t.aliquotes,l.order=t.order,l.tubeCollectionData=n.create(t.tubeCollectionData,o),l.collect=a,l.toJSON=u,r()}angular.module("otusjs.laboratory").factory("otusjs.laboratory.ParticipanTubeFactory",t),t.$inject=["otusjs.laboratory.TubeCollectionDataFactory"]}(),function(){function t(){function t(t){return new e(t)}var n=this;return n.create=t,n}function e(t){function e(t){o.isCollected=!0,o.metadata="",o.operator=t.email,o.time=(new Date).toISOString()}function n(){return{objectType:o.objectType,isCollected:o.isCollected,metadata:o.metadata,operator:o.operator,time:o.time}}var o=this;o.objectType="TubeCollectionData",o.isCollected=t.isCollected,o.metadata=t.metadata,o.operator=t.operator,o.time=t.time,o.fill=e,o.toJSON=n}angular.module("otusjs.laboratory").factory("otusjs.laboratory.TubeCollectionDataFactory",t)}(),function(){function t(t,n){function o(){return new e(t,n,{})}function r(o){return new e(t,n,o)}var i=this;return i.create=o,i.fromJson=r,i}function e(t,e,n){function o(){a(),u()}function r(){return{labels:[],data:[],backgroundColor:[],chartId:x.code}}function i(){return x.tubeList.map(function(t){return{code:t.code,label:t.typeLabel+" ("+t.momentLabel+")",containerLabel:"Tubo",aliquotCollectionData:{processing:t.tubeCollectionData.time},roleLabel:""}})}function a(){x.aliquotsInfo.forEach(function(t){var e=x.aliquotList.find(function(e){return e.name===t.aliquotName});e&&(t.aliquotLabel=e.label,t.role=e.role,t.roleLabel=e.roleLabel)}),x.aliquotList.length&&!x.aliquotsInfo.length&&x.aliquotList.forEach(function(t){v(t)}),s()}function u(){x.tubesInfo.forEach(function(t){var e=x.tubeList.find(function(e){return e.type===t.type&&e.moment===t.moment});e&&(t.typeLabel=e.typeLabel,t.moment=e.moment,t.momentLabel=e.momentLabel)}),x.tubeList.length&&!x.tubesInfo.length&&x.tubeList.forEach(function(t){y(t)}),c()}function c(){x.chartTubeDataSet.labels=[],x.chartTubeDataSet.data=[],x.tubesInfo.length&&(x.tubesInfo.sort(function(t,e){return t.typeLabel<e.typeLabel?-1:t.typeLabel>e.typeLabel?1:0}),x.tubesInfo.forEach(function(t){x.chartTubeDataSet.labels.push(t.typeLabel+" ("+t.momentLabel+")"),x.chartTubeDataSet.data.push(t.quantity)}));var t=angular.copy(x.chartTubeDataSet);return x.chartTubeDataSet=void 0,x.chartTubeDataSet=angular.copy(t),x.chartTubeDataSet}function s(){x.chartAliquotDataSet.labels=[],x.chartAliquotDataSet.data=[],x.aliquotsInfo.length&&(x.aliquotsInfo.sort(function(t,e){return t.aliquotLabel<e.aliquotLabel?-1:t.aliquotLabel>e.aliquotLabel?1:0}),x.aliquotsInfo.forEach(function(t){x.chartAliquotDataSet.labels.push(t.aliquotLabel+" ("+t.roleLabel+")"),x.chartAliquotDataSet.data.push(t.quantity)}));var t=angular.copy(x.chartAliquotDataSet);return x.chartAliquotDataSet=void 0,x.chartAliquotDataSet=angular.copy(t),x.chartAliquotDataSet}function l(t){return x.aliquotsInfo.find(function(e){return e.aliquotName===t.name&&e.role===t.role})}function f(t){return x.tubesInfo.find(function(e){return e.type===t.type&&e.moment===t.moment})}function m(t){return x.tubesInfo.filter(function(e){return e.type!==t.type||e.moment!==t.moment})}function d(t){return x.aliquotsInfo.filter(function(e){return e.aliquotName!==t.name||e.role!==t.role})}function v(t){var e=l(t),n=d(t);e?e.quantity++:e=new w(t),n.push(e),x.aliquotsInfo=n,s()}function y(t){var e=f(t),n=m(t);e?e.quantity++:e=new N(t),n.push(e),x.tubesInfo=n,c()}function p(t){var e=l(t),n=d(t);e&&e.quantity>1&&(e.quantity--,n.push(e)),x.aliquotsInfo=n,s()}function g(t){var e=f(t),n=m(t);e&&e.quantity>1&&(e.quantity--,n.push(e)),x.tubesInfo=n,c()}function b(e){var n=t.create(e);return x.aliquotList.push(n),v(n),n}function j(t){var n=e.create(t);return x.tubeList.push(n),y(n),n}function I(t){return p(x.aliquotList[t]),x.aliquotList.splice(t,1)}function h(t){return g(x.tubeList[t]),x.tubeList.splice(t,1)}function T(){var t=[];return x.aliquotList.forEach(function(e){t.push(e.code)}),t}function S(){var t=[];return x.tubeList.forEach(function(e){t.push(e.code)}),t}function D(e){x.aliquotList.push.apply(x.aliquotList,e.map(function(e){var n=t.create(e),o=l(n);return o?o.quantity++:x.aliquotsInfo.push(new w(n)),n})),s()}function O(t){x.tubeList.push.apply(x.tubeList,t.map(function(t){var n=e.create(t),o=f(n);return o?o.quantity++:x.tubesInfo.push(new N(n)),n})),c()}function w(t){this.aliquotName=t.name,this.aliquotLabel=t.label,this.role=t.role,this.roleLabel=t.roleLabel,this.quantity=1}function N(t){this.type=t.type,this.typeLabel=t.typeLabel,this.moment=t.moment,this.momentLabel=t.momentLabel,this.quantity=1}function F(){var t={_id:x._id,objectType:x.objectType,code:x.code,shipmentDate:x.shipmentDate,processingDate:x.processingDate,operator:x.operator,originLocationPoint:x.originLocationPoint,destinationLocationPoint:x.destinationLocationPoint,tubeList:x.tubeList,aliquotList:x.aliquotList,aliquotsInfo:x.aliquotsInfo.map(function(t){return{aliquotName:t.aliquotName,role:t.role,quantity:t.quantity}}),tubesInfo:x.tubesInfo.map(function(t){return{type:t.type,moment:t.moment,quantity:t.quantity}})};return t}var x=this;x._id=n._id?n._id.hasOwnProperty("$oid")?n._id.$oid:n._id:null,x.objectType="TransportationLot",x.code=n.code||"",x.aliquotList=t.fromJson(n.aliquotList),x.tubeList=e.fromJson(n.tubeList),x.shipmentDate=n.shipmentDate||"",x.processingDate=n.processingDate||"",x.operator=n.operator||"",x.aliquotsInfo=n.aliquotsInfo||[],x.tubesInfo=n.tubesInfo||[],x.originLocationPoint=n.originLocationPoint?n.originLocationPoint.hasOwnProperty("$oid")?n.originLocationPoint.$oid:n.originLocationPoint:"",x.destinationLocationPoint=n.destinationLocationPoint?n.destinationLocationPoint.hasOwnProperty("$oid")?n.destinationLocationPoint.$oid:n.destinationLocationPoint:"",x.chartAliquotDataSet=r(),x.chartTubeDataSet=r(),x.insertAliquot=b,x.insertTube=j,x.insertAliquotList=D,x.insertTubeList=O,x.removeAliquotByIndex=I,x.removeTubeByIndex=h,x.getAliquotCodeList=T,x.getTubeCodeList=S,x.getTubeForDynamicTable=i,x.toJSON=F,o()}angular.module("otusjs.laboratory.transportation").factory("otusjs.laboratory.transportation.LotFactory",t),t.$inject=["otusjs.laboratory.WorkAliquotFactory","otusjs.laboratory.WorkTubeFactory"]}(),function(){function t(){function t(){return new e({})}function n(t){return Array.isArray(t)?t.map(function(t){return new e(t)}):[]}function o(t){return new e(t)}var r=this;return r.create=t,r.fromJsonObject=o,r.fromArray=n,r}function e(t){function e(t){"string"!=typeof t||r.users.includes(t)||r.users.push(t)}function n(t){var e=r.users.indexOf(t);e>-1&&r.users.splice(e,1)}function o(){var t={};return t._id=r._id,t.name=r.name,t.users=r.users,t}var r=this;r.toJSON=o,r._id=t._id?t._id.$oid:null,r.name=t.name||null,r.users=t.users||[],r.setUser=e,r.removeUser=n}angular.module("otusjs.model.locationPoint").factory("otusjs.model.locationPoint.LocationPointFactory",t)}(),function(){function t(){function t(){return new e({})}function n(t){return Array.isArray(t)?t.map(function(t){return new e(t)}):[]}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t){function e(){var t={};return t._id=n._id,t.name=n.name,t.code=n.code,t.acronym=n.acronym,t.country=n.country,t.state=n.state,t.address=n.address,t.complement=n.complement,t.zip=n.zip,t.phone=n.phone,t.backgroundColor=n.backgroundColor,t.borderColor=n.borderColor,t}var n=this;n.toJSON=e,n._id=t._id||null,n.name=t.name||null,n.code=t.code||null,n.acronym=t.acronym||null,n.country=t.country||null,n.state=t.state||null,n.address=t.address||null,n.complement=t.complement||null,n.zip=t.zip||null,n.phone=t.phone||null,n.backgroundColor=t.backgroundColor||null,n.borderColor=t.borderColor||null}angular.module("otusjs.model.fieldCenter").factory("otusjs.model.fieldCenter.FieldCenterFactory",t)}(),function(){function t(t){function n(n,o){var r=t.create();return new e(n,o,r)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.MetadataAnswerFactory.fromJsonObject() method expects to receive a object instead a String");var o=t.fromJsonObject(n.label);return new e(n.value,n.extractionValue,o)}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t,e,n){function o(t){r.extractionValue=t}var r=this;r["extends"]="StudioObject",r.objectType="MetadataAnswer",r.dataType="Integer",r.value=t,r.extractionValue=e,r.label=n,r.setExtractionValue=o}angular.module("otusjs.metadata").factory("MetadataAnswerFactory",t),t.$inject=["LabelFactory"]}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.MetadataGroupFactory.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);return n.options.forEach(function(e){o.options.push(t.fromJsonObject(e))}),o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){function e(){return l.options.length}function n(t){var e=l.options.filter(function(e){if(e.value===t)return e});return e[0]}function o(t){var e=l.options.filter(function(e){if(e.extractionValue.toString()===t.toString())return e});return e[0]}function r(){var e=l.options.length;do e++;while(!c(e)||!s(e));var n=t.create(e,e);return l.options.push(n),n}function i(t){l.options.splice(t-1,1),u()}function a(){l.options.splice(-1,1)}function u(){l.options.forEach(function(t,e){t.value=++e})}function c(t){return!o(t)}function s(t){return!n(t)}var l=this;l.extents="StudioObject",l.objectType="MetadataGroup",l.options=[],l.getOptionListSize=e,l.getOptionByValue=n,l.getOptionByExtractionValue=o,l.createOption=r,l.removeOption=i,l.removeLastOption=a,l.isAvailableExtractionValue=c,l.isAvailableValue=s}angular.module("otusjs.metadata").factory("MetadataGroupFactory",t),t.$inject=["MetadataAnswerFactory"]}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.IdiomFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.oid=t.oid,n.plainText=t.plainText,n.formattedText=t.formattedText,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t["extends"]="StudioObject",t.objectType="Label",t.oid="",t.plainText="",t.formattedText=""}angular.module("otusjs.misc").factory("IdiomFactory",t)}(),function(){function t(t){function e(){var e={};return e.ptBR=t.create(),e.enUS=t.create(),e.esES=t.create(),e}function n(e){if("string"==typeof e)throw new Error("otusjs.model.misc.model.LabelFactory.fromJsonObject() method expects to receive a object instead a String");var n={};return n.ptBR=t.fromJsonObject(e.ptBR),n.enUS=t.fromJsonObject(e.enUS),n.esES=t.fromJsonObject(e.esES),n}var o=this;return o.create=e,o.fromJsonObject=n,o}angular.module("otusjs.misc").factory("LabelFactory",t),t.$inject=["IdiomFactory"]}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.UnitFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.oid=t.oid,n.plainText=t.plainText,n.formattedText=t.formattedText,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t["extends"]="StudioObject",t.objectType="Unit",t.oid="",t.plainText="",t.formattedText=""}angular.module("otusjs.misc").factory("UnitFactory",t)}(),function(){function t(){function t(t){return new e(t)}function n(t){return Array.isArray(t)?t.map(function(t){return new e(t)}):[]}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t){function e(){var t={};return t.objectType=n.objectType,t.name=n.name,t.goal=n.goal,t.backgroundColor=n.backgroundColor,t.borderColor=n.borderColor,JSON.stringify(t)}var n=this;n.toJson=e,n.objectType="MonitoringCenter",n.name=t.name||null,n.goal=t.goal||null,n.backgroundColor=t.backgroundColor||null,n.borderColor=t.borderColor||null}angular.module("otusjs.model.monitoring").factory("otusjs.model.monitoring.MonitoringCenterFactory",t)}(),function(){function t(){function t(){return new e({})}function n(t){return Array.isArray(t)?t.map(function(t){return new e(t)}):[]}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t){function e(){var t={};return t.objectType=n.objectType,t.acronym=n.acronym,t.fieldCenter=n.fieldCenter,t.month=n.month,t.sum=n.sum,t.year=n.year,JSON.stringify(t)}var n=this;n.toJson=e,n.objectType="MonitoringInformation",n.acronym=t.acronym||null,n.fieldCenter=t.fieldCenter||null,n.month=t.month||null,n.sum=t.sum||null,n.year=t.year||null}angular.module("otusjs.model.monitoring").factory("otusjs.model.monitoring.MonitoringFactory",t)}(),function(){function t(t){function n(n){return new e(t,i.getStatus(),n)}function o(n){return Array.isArray(n)?n.map(function(n){return new e(t,i.getStatus(),n).toJSON()}):[]}function r(){return i.STATUS}var i=this;return i.STATUS={CREATED:"CREATED",SAVED:"SAVED",FINALIZED:"FINALIZED",DOES_NOT_APPLY:"DOES_NOT_APPLY",UNDEFINED:"UNDEFINED",MULTIPLE:"MULTIPLE",AMBIGUITY:"AMBIGUITY"},i.create=n,i.fromJsonObject=o,i.getStatus=r,i}function e(t,e){function n(n){if(n.doesNotApply)0==n.activities.length?(i.status=e.DOES_NOT_APPLY,i.observation=n.doesNotApply?n.doesNotApply.observation:void 0):(i.status=e.AMBIGUITY,i.observation=n.doesNotApply?n.doesNotApply.observation:void 0);else if(0==n.activities.length)i.status=e.UNDEFINED;else if(1==n.activities.length)i.status=e[n.activities[0].statusHistory.name];else if(n.activities.length>1){var o=[];n.activities.filter(function(n){o.push({status:e[n.statusHistory.name],date:t("date")(n.statusHistory.date,"dd/MM/yyyy")})}),i.status=e.MULTIPLE,i.information=o}else i.status=e.UNDEFINED}function o(){var t={};return t.objectType=i.objectType,t.acronym=i.acronym,t.name=i.name,t.status=i.status,t.date=i.date,t.information=i.information,t.observation=i.observation,t}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this;i.toJSON=o,i.objectType="HeatMapActivity",i.acronym=r.acronym||null,i.name=r.name||null,i.date=r.activities&&r.activities.length>0?t("date")(r.activities[0].statusHistory.date,"dd/MM/yyyy"):null,i.information=null,i.observation=null,r.status?i.status=r.status:r.activities?n(r):i.status=null}angular.module("otusjs.model.monitoring").factory("otusjs.model.monitoring.HeatMapActivityFactory",t),t.$inject=["$filter"]}(),function(){function t(){function t(t){return new e(r.getStatus(),t)}function n(t){return Array.isArray(t)?t.map(function(t){return new e(r.getStatus(),t).toJSON()}):[]}function o(){return r.STATUS}var r=this;return r.STATUS={DOES_NOT_HAVE:"DOES_NOT_HAVE",HAVE:"HAVE",DOES_NOT_APPLY:"DOES_NOT_APPLY",AMBIGUITY:"AMBIGUITY"},r.create=t,r.fromJsonObject=n,r.getStatus=o,r}function e(t){function e(e){e.doesNotApply?0==e.quantity?(r.status=t.DOES_NOT_APPLY,r.observation=e.doesNotApply.observation):(r.status=t.AMBIGUITY,r.observation=e.doesNotApply.observation):0==e.quantity?r.status=t.DOES_NOT_HAVE:e.quantity>0?r.status=t.HAVE:r.status="UNDEFINED"}function n(){var t={};return t.objectType=r.objectType,t.name=r.name,t.quantity=r.quantity,t.status=r.status,t.observation=r.observation,t}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;r.toJSON=n,r.objectType="HeatMapExam",r.name=o.name||null,r.quantity=o.quantity||0,r.observation=o.observation||null,o.status?r.status=o.status:e(o)}angular.module("otusjs.model.monitoring").factory("otusjs.model.monitoring.HeatMapExamFactory",t)}(),function(){function t(){function t(t){function e(t){this.message=t}return e.prototype=Object.create(Error.prototype),e.prototype.name=t,e.prototype.constructor=e,e}var e=this;e.InvalidStateError=t("InvalidStateError")}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.ExceptionService",t)}(),function(){function t(t){function o(t){return t?new e(t):i()}function r(t){var n=new e(t);return"BEGIN NODE"===t?n.index=0:n.index=1,n}function i(){var t=o("NULL NAVIGATION");return t.index=null,t.inNavigations=[],t.outNavigations=[],t.routes=[],t.isOrphan=function(){return!0},t.hasOrphanRoot=function(){return!0},t}function a(e){var n;if("BEGIN NODE"===e.origin||"END NODE"===e.origin)n=r(e.origin);else{if(!e.routes||!e.routes.length)return i();n=o(e.origin)}return n&&(n.index=e.index,n.inNavigations=e.inNavigations,n.routes=e.routes.map(function(e){return t.fromJson(e)})),n}var u=this;return n.RouteFactory=t,u.create=o,u.createInitial=r,u.fromJson=a,u.createNullNavigation=i,u}function e(t){function e(){return"END NODE"===R.origin}function o(){return"BEGIN NODE"===R.origin}function r(){return e()||o()}function i(){return u().length>1}function a(){return R.routes.length>1}function u(){return R.inNavigations.filter(function(t){return t&&"NULL NAVIGATION"!==t.origin})}function c(t){t.addOutNavigation(R),R.inNavigations.push(t)}function s(t){R.outNavigations.push(t)}function l(){var t=new R.constructor(R.origin,R.routes[0]);R.inNavigations.map(t.addInNavigation),R.outNavigations.map(t.addOutNavigation);var e=R.listRoutes();return e.shift(),e.map(t.createAlternativeRoute),t}function f(t){if(!t.conditions||!t.conditions.length)throw new Error("There are no conditions for this route.","navigation-factory.js",123);if(p(t.origin+"_"+t.destination))throw new Error("Route already exists.","navigation-factory.js",127);m(t)}function m(t){var e=n.RouteFactory.createAlternative(R.origin,t.destination,t.conditions);t.conditions.map(e.addCondition),e.isDefault=!1,R.routes.push(e)}function d(t){if(t.objectType!==R.objectType)return!1;if(t.index!==R.index)return!1;if(t.isDefault!==R.isDefault)return!1;if(t.routes.length!==R.routes.length)return!1;if(!(R.routes.length>0))return!0;var e=t.routes.every(function(t){return R.routes.some(function(e){return e.equals(t)})});return!!e}function v(){return R.routes[0].clone()}function y(){return!!R.routes[0]}function p(t){var e=null;return R.routes.some(function(n){if(n.name===t)return e=n.clone(),!0}),e}function g(t){return R.routes.some(function(e){return p(t.name)||e.origin===t.origin&&e.destination===t.destination})}function b(t){return R.routes[0]&&t.name===R.routes[0].name}function j(){var t=!1;return 0===R.index?t:t=R.inNavigations.every(function(t){return t.isOrphan()||t.hasOrphanRoot()})}function I(){return 0!==R.index&&!R.inNavigations.length}function h(){var t=R.routes.map(function(t){return t.clone()});return t}function T(t){R.routes=t}function S(t){R.inNavigations.some(function(e,n){if(e.origin===t.origin)return R.inNavigations.splice(n,1),!0})}function D(){R.inNavigations=[],R.routes=[]}function O(t){R.routes.some(function(e,n){if(e&&e.name===t)return R.routes.splice(n,1),e.isDefault&&(R.routes[0]=null),!0})}function w(t){R.routes=R.routes.filter(function(e){return e.destination!==t})}function N(t){return Object.is(R,t)}function F(t){if(!t)throw new TypeError("Default route should not be undefined or null.","navigation-factory.js",285);O(t.name),t.conditions=[],R.routes[0]=t}function x(){var t={};return t.extents=R.extents,t.objectType=R.objectType,t.origin=R.origin,t.index=R.index,t.inNavigations=A(),t.routes=R.routes.map(function(t){return t}),t}function A(){return R.inNavigations.map(function(t){if("NULL NAVIGATION"!==t.origin)return{origin:t.origin,index:t.index}})}function E(t){var e=R.inNavigations.some(function(e,n){if(e.origin===t.origin)return R.inNavigations[n]=t,!0});e||R.inNavigations.push(t)}function L(t){var e=R.routes.find(function(e){return e.destination===t});return e&&e.isDefault}function J(t){b(t)||(t.isDefault?F(t):C(t))}function C(t){R.routes.some(function(e,n){if(e.name===t.name)return R.routes[n]=t,!0})}var R=this;R.extents="SurveyTemplateObject",R.objectType="Navigation",R.origin=t,R.index=null,R.inNavigations=[],R.outNavigations=[],R.routes=[],R.addInNavigation=c,R.addOutNavigation=s,R.clone=l,R.createAlternativeRoute=f,R.equals=d,R.getDefaultRoute=v,R.getRouteByName=p,R.listRoutes=h,R.hasRoute=g,R.hasDefaultRoute=y,R.isOrphan=I,R.hasOrphanRoot=j,R.listRoutes=h,R.removeInNavigation=S,R.clearNavigation=D,R.removeRouteByName=O,R.removeRouteByDestination=w,R.selfsame=N,R.setupDefaultRoute=F,R.updateInNavigation=E,R.isDefaultRoute=L,R.updateRoute=J,R.setRoutes=T,R.isEndNode=e,R.isBeginNode=o,R.isOuterNode=r,R.hasMultipleInNavigations=i,R.hasMultipleOutRoutes=a,R.toJSON=x}angular.module("otusjs.model.navigation").factory("otusjs.model.navigation.NavigationFactory",t),t.$inject=["otusjs.model.navigation.RouteFactory"];var n={RouteFactory:null}}(),function(){function t(t){function n(t,n){var o=r(t,n),i=o.itemsToTrack.map(u);return i.push(c(i.length)),new e(i,o.startIndex)}function o(t){return n(t.items,t.lastVisitedIndex)}function r(t,e){i(t);try{a(e,t.length-1)}catch(n){e=null}return{itemsToTrack:t,startIndex:e}}function i(t){if(!t||!t.length)throw new Error("No item to track is detected.","navigation-tracker-factory.js",51)}function a(t,e){if(!t||isNaN(t)||t<0||e<t)throw new Error("An invalid start index has passed to NavigationTracker.","navigation-tracker-factory.js",57)}function u(e,n){var o={};return o.index=n,o.id=e.id||e.origin,o.state=e.state,o.previous=e.previous,o.inputs=e.inputs||s(e),o.outputs=e.outputs||l(e),t.create(o)}function c(t){return u({id:"END NODE"},t)}function s(t){return t.inNavigations?t.inNavigations.filter(function(t){return"BEGIN NODE"!==t.origin}).map(function(t){return t.origin}):[]}function l(t){return t.inNavigations?t.listRoutes().filter(function(t){return"END NODE"!==t.getDestination()}).map(function(t){return t.getDestination()}):[]}var f=this;return f.create=n,f.fromJsonObject=o,f}function e(t,e){function n(t){var e={};return t.forEach(function(t,n){e[t.getID()]=t}),e}function o(){return N}function r(){return A}function i(){return F}function a(){return x?F[x-1].getIndex():null}function u(){return E}function c(){var t=[];for(var e in A)A[e].isSkipped()&&t.push(A[e]);return t}function s(t){d(t)?(y(t),v(t),p()):v(t)}function l(t){F.forEach(function(e){var n=t[e.getID()];n&&n.isFilled&&(n.isFilled()?e.setAsAnswered():n.isIgnored()&&e.setAsIgnored())})}function f(){return!!x&&F[0].getIndex()>0}function m(){var t={};return t.objectType=N,x?t.lastVisitedIndex=F[x-1].getIndex():t.lastVisitedIndex=null,t.items=[],Object.keys(A).forEach(function(e){"END NODE"!==e&&t.items.push(A[e])}),t}function d(t){return!x||F[x-1].getIndex()<A[t[0]].getIndex()}function v(t){F=t.map(function(t){return A[t].setAsVisited(),A[t]}),x=F.length}function y(t){x&&t.forEach(function(t){A[t].setPrevious(F[x-1].getID())})}function p(){g()&&b()}function g(){return!!F[0].getPrevious()&&1!==A[F[0].getPrevious()].getOutputs()}function b(){var t=F[0].getPrevious();A[t].getOutputs().forEach(function(t){j(t)||(O(t),I(t))})}function j(t){return F[0].getID()===t||F[x-1].getOutputs().some(function(e){return e===t})}function I(t){A[t].getOutputs().forEach(function(e){
h(e)&&T(e)&&S(e)&&(D(F[x-1].getID(),e,t)||(O(e),I(e)))})}function h(t){return F[0].getID()!==t}function T(t){return F[x-1].getOutputs().indexOf!==t}function S(t){return A[F[0].getPrevious()].getOutputs().indexOf(t)===-1}function D(t,e,n){return!(A[e].getIndex()<=A[t].getIndex())&&(A[e].getInputs().indexOf(t)!==-1||A[e].getInputs().some(function(e){if(n!==e)return D(t,e)}))}function O(t){A[t].setAsSkipped()}var w=this,N="NavigationTracker",F=[],x=0,A=null,E=0;w.getObjectType=o,w.getItems=r,w.getCurrentItemGroup=i,w.getCurrentIndex=a,w.getItemCount=u,w.getSkippedItems=c,w.visitGroup=s,w.updateCurrentGroup=l,w.hasPreviousItem=f,w.toJSON=m,function(){A=n(t),E=t.length}()}angular.module("otusjs.model.navigation").factory("otusjs.model.navigation.NavigationTrackerFactory",t),t.$inject=["otusjs.model.navigation.NavigationTrackingItemFactory"]}(),function(){function t(){function t(t){return new e(t)}function n(t){return new e(t)}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t){function e(){return S}function n(){return D}function o(){return O}function r(){return w}function i(){return N}function a(t){N=t}function u(){return F}function c(){return x}function s(){w=h}function l(){w=b}function f(){w=T}function m(){w=j,N=null}function d(){return w===b}function v(){return w===T}function y(){return w===j}function p(){var t={};return t.objectType=S,t.id=D,t.index=O,t.state=w,t.previous=N,t.inputs=F,t.outputs=x,t}var g=this,b="ANSWERED",j="SKIPPED",I="NOT_VISITED",h="VISITED",T="IGNORED",S="NavigationTrackingItem",D=t.id,O=t.index,w=t.state||I,N=t.previous||null,F=t.inputs||[],x=t.outputs||[];g.getObjectType=e,g.getID=n,g.getIndex=o,g.getState=r,g.getPrevious=i,g.setPrevious=a,g.getInputs=u,g.getOutputs=c,g.setAsVisited=s,g.setAsAnswered=l,g.setAsIgnored=f,g.setAsSkipped=m,g.isAnswered=d,g.isIgnored=v,g.isSkipped=y,g.toJSON=p}angular.module("otusjs.model.navigation").factory("otusjs.model.navigation.NavigationTrackingItemFactory",t)}(),function(){function t(t){function n(t,n){return n&&n.length?new e(t,n):null}function o(t){var e=JSON.parse(t),o=e.rules.map(r);return n(e.name,o)}function r(e){return t.fromJson(e)}var i=this;return i.create=n,i.fromJson=o,i}function e(t,e){function n(t){m(t)||v.rules.push(t)}function o(t){if(v.rules.length>1){var e=v.rules.indexOf(t);e>-1&&v.rules.splice(e,1)}}function r(t){var e=d(t),n=a(e);n.when=t.when,n[t.operator](t.answer)}function i(){var t=[];return v.rules.forEach(function(e){t.push(e.clone())}),t}function a(t){return v.rules[t]}function u(t){if(t.objectType!==v.objectType)return!1;if(t.name!==v.name)return!1;if(t.rules.length!==v.rules.length)return!1;if(!(v.rules.length>0))return!0;var e=t.rules.every(function(t){return v.rules.some(function(e){return e.equals(t)})});return!!e}function c(t){return Object.is(v,t)}function s(){return new v.constructor(v.name,v.rules)}function l(){var t={};return t.extents="StudioObject",t.objectType="RouteCondition",t.name=v.name,t.rules=v.rules,t}function f(){e.map(v.addRule)}function m(t){return d(t)>-1}function d(t){var e=-1;return v.rules.some(function(n,o){if(t.equals(n))return e=o,!0}),e}var v=this;v.extents="SurveyTemplateObject",v.objectType="RouteCondition",v.name=t||"ROUTE_CONDITION",v.index=null,v.rules=[],v.addRule=n,v.removeRule=o,v.updateRule=r,v.listRules=i,v.getRuleByIndex=a,v.equals=u,v.selfsame=c,v.clone=s,v.toJSON=l,f()}angular.module("otusjs.model.navigation").factory("otusjs.model.navigation.RouteConditionFactory",t),t.$inject=["otusjs.model.navigation.RuleFactory"]}(),function(){function t(t){function n(t,n){if(!t||!n)return null;var o=new e(t,n,null);return o.isDefault=!0,o}function o(t,n,o){return o&&o.length?new e(t,n,o):null}function r(t){var e=null;return e=t.isDefault?n(t.origin,t.destination):o(t.origin,t.destination,t.conditions.map(i)),e.isDefault=t.isDefault,e}function i(e){return e=e instanceof Object?JSON.stringify(e):e,t.fromJson(e)}var a=this;return a.createAlternative=o,a.createDefault=n,a.fromJson=r,a}function e(t,e,n){function o(){return v.destination}function r(t){v.isDefault||d(t)||v.conditions.push(t)}function i(){return"Route"}function a(){var t=[];return v.conditions.forEach(function(e){t.push(e)}),t}function u(t){if(v.conditions.length>1){var e=v.conditions.indexOf(t);e>-1&&v.conditions.splice(e,1)}}function c(t){if(t.objectType!==v.objectType)return!1;if(t.isDefault!==v.isDefault)return!1;if(t.origin!==v.origin)return!1;if(t.destination!==v.destination)return!1;if(t.name!==v.name)return!1;if(t.conditions.length!==v.conditions.length)return!1;if(!(v.conditions.length>0))return!0;var e=t.conditions.every(function(t){return v.conditions.some(function(e){return e.equals(t)})});return!!e}function s(t){}function l(){var t=new v.constructor(v.origin,v.destination,v.conditions);return t.isDefault=v.isDefault,t}function f(){var t={};return t.extents=v.extents,t.objectType=v.objectType,t.origin=v.origin,t.destination=v.destination,t.name=v.name,t.isDefault=v.isDefault,t.conditions=v.conditions.map(function(t){return t}),t}function m(){n&&n.map(v.addCondition)}function d(t){return v.conditions.some(function(e){return t.equals(e)})}var v=this;v.extents="SurveyTemplateObject",v.objectType="Route",v.origin=t,v.destination=e,v.name=t+"_"+e,v.isDefault=!1,v.conditions=[],v.getDestination=o,v.addCondition=r,v.instanceOf=i,v.listConditions=a,v.removeCondition=u,v.equals=c,v.selfsame=s,v.clone=l,v.toJSON=f,m()}angular.module("otusjs.model.navigation").factory("otusjs.model.navigation.RouteFactory",t),t.$inject=["otusjs.model.navigation.RouteConditionFactory"]}(),function(){function t(){function t(t,n,o,r,i){return new e(t,n,o,r,i)}function n(t){var n=new e(t.when,t.operator,t.answer,t.isMetadata,t.isCustom);return n}var o=this;return o.create=t,o.fromJson=n,o}function e(t,e,n,o,r){function i(t){v("within",t)}function a(t){v("notEqual",t)}function u(t){v("equal",t)}function c(t){v("greater",t)}function s(t){v("greaterEqual",t)}function l(t){v("lower",t)}function f(t){v("lowerEqual",t)}function m(t,e){Array.isArray(t)?v("between",t):v("between",[t,e])}function d(t){v("contains",t)}function v(t,e){j.operator=t,j.answer=e}function y(t){return t.objectType===j.objectType&&(t.when===j.when&&(t.operator===j.operator&&(t.answer===j.answer&&(t.isCustom===j.isCustom&&t.isMetadata===j.isMetadata))))}function p(t){}function g(){return new j.constructor(j.when,j.operator,j.answer,j.isMetadata,j.isCustom)}function b(){var t={};return t.extents=j.extents,t.objectType=j.objectType,t.when=j.when,t.operator=j.operator,t.answer=j.answer,t.isMetadata=j.isMetadata,t.isCustom=j.isCustom,t}var j=this;j.extents="SurveyTemplateObject",j.objectType="Rule",j.when=t,j.operator=e,j.answer=n,j.isMetadata=o,j.isCustom=r,j.within=i,j.equal=u,j.notEqual=a,j.greater=c,j.greaterEqual=s,j.lower=l,j.lowerEqual=f,j.between=m,j.contains=d,j.equals=y,j.selfsame=p,j.clone=g,j.toJSON=b}angular.module("otusjs.model.navigation").factory("otusjs.model.navigation.RuleFactory",t)}(),function(){function t(){function t(t){return new e(t)}function n(t){return new e(t)}var o=this;return o.create=t,o.fromJson=n,o}function e(t){function e(){var t={};return t.objectType=n.objectType,t._id=n._id,t.recruitmentNumber=n.recruitmentNumber,t.email=n.email,t.phoneNumber=n.phoneNumber,t.address=n.address,t}var n=this,o=t.email||"",r=t.phoneNumber||"",i=t.address||"";return n.objectType="ParticipantContact",n._id=t._id?t._id:null,n.recruitmentNumber=t.recruitmentNumber?t.recruitmentNumber:"",n.email={main:o.main?o.main:{value:{content:""},observation:""},second:o.second?o.second:null,third:o.third?o.third:null,fourth:o.fourth?o.fourth:null,fifth:o.fifth?o.fifth:null},n.phoneNumber={main:r.main?r.main:{value:{content:""},observation:""},second:r.second?r.second:null,third:r.third?r.third:null,fourth:r.fourth?r.fourth:null,fifth:r.fifth?r.fifth:null},n.address={main:i.main?i.main:{value:{postalCode:"",street:"",streetNumber:0,complements:"",neighbourhood:"",city:"",state:"",country:""},observation:""},second:i.second?i.second:null,third:i.third?i.third:null,fourth:i.fourth?i.fourth:null,fifth:i.fifth?i.fifth:null},n.toJSON=e,n}angular.module("otusjs.model.participant").factory("otusjs.model.participantContact.ParticipantContactFactory",t)}(),function(){function t(){function t(){return new e({})}function n(t){return new e(t)}function o(t){return Array.isArray(t)?t.map(function(t){return new e(t).toJSON()}):[]}var r=this;return r.create=t,r.fromJson=n,r.fromArray=o,r}function e(t){function e(){var t={};return t._id=n._id,t.objectType=n.objectType,t.recruitmentNumber=n.recruitmentNumber,n.name&&(t.name=n.name),n.sex&&(t.sex=n.sex),n.birthdate&&(t.birthdate=n.birthdate),n.email&&(t.email=n.email),t.fieldCenter=n.fieldCenter,t.late=n.late,t.identified=n.identified||!!(n.name&&n.sex&&n.birthdate),t}var n=this;return n._id=t._id||null,n.objectType="Participant",n.recruitmentNumber=t.recruitmentNumber||"",n.name=t.name||"",n.sex=t.sex||"",n.birthdate=t.birthdate||"",n.fieldCenter=t.fieldCenter||{},n.email=t.email||"",n.password=t.password||"",n.registeredBy=t.registeredBy,n.late=t.late||!1,n.identified=t.identified,n.toJSON=e,n}angular.module("otusjs.model.participant").factory("otusjs.model.participant.ParticipantFactory",t)}(),function(){function t(t){function n(){return new e(t)}var o=this;return o.create=n,o}function e(t){function e(){x=[]}function n(n){e();var r=o(n),i=t.createNullNavigation();x.forEach(function(t){var e=[];t.inNavigations.forEach(function(t){t&&t.origin in r?e.push(r[t.origin]):e.push(i)}),t.inNavigations=e.slice()})}function o(e){var n,o={};return e.forEach(function(e){n=t.fromJson(e),x.push(n),o[n.origin]=n}),o}function r(t){var e=x.find(function(e){return N(e,t)});return e}function i(t){return x[t].routes=[],x[t]}function a(t){x=t}function u(){return x}function c(){return x.length}function s(){return x[0]}function l(){return x[1]}function f(t){return d(2===t?0:t-1)}function m(t){return d(t===x.length-1?1:t+1)}function d(t){return x[t]}function v(t){return t?x.indexOf(t):null}function y(t){var e=r(t);return e?x.indexOf(e):null}function p(){var t=x.filter(function(t){return t.isOrphan()});return t}function g(){return d(2===c()?0:u().length-1)}function b(t){return!!r(t)}function j(e){var n=t.create(e);return n.index=x.length,x.push(n),n}function I(){var e=t.createInitial("BEGIN NODE","END NODE"),n=t.createInitial("END NODE","BEGIN NODE");x.unshift(n),x.unshift(e)}function h(t){var e=x.find(function(e){return N(e,t)}),n=x.indexOf(e);n>-1&&(x.splice(n,1),T(n,e))}function T(e,n){var o=t.createNullNavigation(),r=x[1].inNavigations.indexOf(n);r>-1&&(x[1].inNavigations[r]=o);for(var i=e;i<x.length;i++){var a=x[i].inNavigations.indexOf(n);a>-1&&(x[i].inNavigations[a]=o)}}function S(t){x.splice(t,1)}function D(){x.splice(-1,1)}function O(t,e,n){var o=e>n?n+2:n+1;return x.splice(o,0,t),o}function w(){for(var t=0;t<x.length;t++)x[t].index=t}function N(t,e){return t.origin===e}var F=this,x=[];F.resetData=e,F.loadJsonData=n,F.manageNavigation=a,F.getNavigationByOrigin=r,F.getNavigationByPosition=d,F.getNavigationPosition=v,F.getNavigationPositionByOrigin=y,F.getNavigationList=u,F.getNavigationListSize=c,F.getBeginNode=s,F.getEndNode=l,F.getOrphanNavigations=p,F.getLastNavigation=g,F.existsNavigationTo=b,F.createNavigationTo=j,F.removeNavigationOf=h,F.removeNavigationByIndex=S,F.removeCurrentLastNavigation=D,F.insertNavigation=O,F.reorderNavigationIndex=w,F.setInitialNodes=I,F.getPreviousOf=f,F.getNextOf=m,F.getEmptyNavigation=i}angular.module("otusjs.model.navigation").factory("otusjs.model.navigation.NavigationContainerFactory",t),t.$inject=["otusjs.model.navigation.NavigationFactory"]}(),function(){function t(t,o,r,i,a,u,c,s,l,f,m){function d(n){var o=t.create();return v(o),new e(n,o)}function v(t){o.setContainer(t),i.setContainer(t),a.setContainer(t),u.setContainer(t),c.setContainer(t),s.setContainer(t),l.setContainer(t),f.setContainer(t),m.setContainer(t),r.setContainer(t),n.ContainerInitializationTask=o,n.NavigationCreationTask=i,n.NavigationRemovalTask=a,n.NavigationMovementTaskService=u,n.NavigationInsertionTask=u,n.DefaultRouteCreationTaskService=s,n.AlternativeRouteCreationTaskService=l,n.RouteRemovalTaskService=f,n.RouteUpdateTaskService=m,n.InitialNodesCreationTask=r}var y=this;return y.create=d,y}function e(t,e){function o(){n.ContainerInitializationTask.execute()}function r(t){e.loadJsonData(t)}function i(){b(),I=n.NavigationCreationTask.execute(t.SurveyItemManager.getLastItem())}function a(t,e){n.NavigationMovementTaskService.execute(t,e)}function u(t){n.NavigationRemovalTask.execute(t)}function c(t){return I.hasRoute(t)?n.RouteUpdateTaskService.execute(t,I):void(t.isDefault?n.DefaultRouteCreationTaskService.execute(t,I):n.AlternativeRouteCreationTaskService.execute(t,I))}function s(t){n.RouteRemovalTaskService.execute(t,I)}function l(){return e.getNavigationList()}function f(t){return e.getNavigationByOrigin(t)}function m(){var t=e.getNavigationList();return t.slice(2,t.length)}function d(){var t=l(),e=t[0],n=[e];return t.forEach(function(t){t.origin===e.getDefaultRoute().destination&&(n.push(t),e=t)}),n}function v(e){var n=t.SurveyItemManager.getItemPosition(e),o=t.SurveyItemManager.getItemList(),r=o.filter(function(t,e){return e<=n});return r}function y(){return NavigationContainer.getOrphanNavigations()}function p(t){return I=e.getNavigationByOrigin(t)}function g(){return I}function b(){e.getNavigationListSize()||n.InitialNodesCreationTask.execute()}var j=this,I=null;j.initialize=o,j.loadJsonData=r,j.addNavigation=i,j.removeNavigation=u,j.moveNavigation=a,j.applyRoute=c,j.deleteRoute=s,j.getNavigationList=l,j.getExportableList=m,j.getDefaultNavigationPath=d,j.getAvaiableRuleCriterionTargets=v,j.listOrphanNavigations=y,j.selectNavigationByOrigin=p,j.selectedNavigation=g,j.getNavigationByOrigin=f}angular.module("otusjs.model.navigation").factory("otusjs.model.navigation.NavigationManagerFactory",t),t.$inject=["otusjs.model.navigation.NavigationContainerFactory","otusjs.model.navigation.ContainerInitializationTaskService","otusjs.model.navigation.InitialNodesCreationTaskService","otusjs.model.navigation.NavigationCreationTaskService","otusjs.model.navigation.NavigationRemovalTaskService","otusjs.model.navigation.NavigationMovementTaskService","otusjs.model.navigation.NavigationInsertionTask","otusjs.model.navigation.DefaultRouteCreationTaskService","otusjs.model.navigation.AlternativeRouteCreationTaskService","otusjs.model.navigation.RouteRemovalTaskService","otusjs.model.navigation.RouteUpdateTaskService"];var n={}}(),function(){function t(t){function e(){i=t.getItemList()}function n(t,e){if(t===e)return!1;var n=o(t),r=o(e);return n.index<r.index}function o(t){var e=null;return i.forEach(function(n,o){n.templateID===t&&(e={},e.question=n,e.index=o)}),e}var r=this,i=[];r.init=e,r.isRouteValid=n,e()}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.NavigationValidatorService",t),t.$inject=["SurveyItemContainerFactory"]}(),function(){"use restrict";function t(){function t(t,n,o,r,i,a,u){return new e(t,n,o,r,i,a,u)}function n(t){var n=t.requester,o=t.receiver,r=t.creationDate,i=t.dueDate,a=t.activityId,u=t.activityInfo,c=t._id;return new e(n,o,r,i,a,u,c)}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t,e,n,o,r,i,a){function u(){return{id:c.id,objectType:c.objectType,creationDate:c.creationDate,dueDate:c.dueDate,requester:c.requester,receiver:c.receiver,activityId:c.activityId}}var c=this;c.id=a||null,c.objectType="userActivityPendency",c.creationDate=n||new Date,c.dueDate=o,c.requester=t,c.receiver=e,c.activityId=r;try{c.activityInfo={acronym:i.acronym,name:i.name,recruitmentNumber:i.recruitmentNumber,lastStatusName:i.lastStatusName,externalID:i.externalID}}catch(s){}c.getID=function(){return c.id},c.getCreationDate=function(){return c.creationDate},c.getDueDate=function(){return c.dueDate},c.getRequester=function(){return c.requester},c.getReceiver=function(){return c.receiver},c.getActivityID=function(){return c.activityId},c.getActivityAcronym=function(){return c.activityInfo.acronym},c.getActivityName=function(){return c.activityInfo.name},c.getActivityRecruitmentNumber=function(){return c.activityInfo.recruitmentNumber},c.getActivitylastStatusName=function(){return c.activityInfo.lastStatusName},c.getActivityExternalID=function(){return c.activityInfo.externalID},c.setReceiver=function(t){return c.receiver=t},c.setDueDate=function(t){return c.dueDate=t},c.toJSON=u}angular.module("otusjs.model.pendency").factory("otusjs.model.pendency.UserActivityPendencyFactory",t),t.$inject=[]}(),function(){function t(){function t(t,e){return t.StaticVariableManager.add(e)}var e=this;e.execute=t}angular.module("otusjs.staticVariable").service("otusjs.staticVariable.AddStaticVariableTaskService",t)}(),function(){function t(){function t(t,e){return t.StaticVariableManager.remove(e)}var e=this;e.execute=t}angular.module("otusjs.staticVariable").service("otusjs.staticVariable.RemoveStaticVariableTaskService",t)}(),function(){function t(){function t(t,e,n){return t.StaticVariableManager.update(e,n)}var e=this;e.execute=t}angular.module("otusjs.staticVariable").service("otusjs.staticVariable.UpdateStaticVariableTaskService",t)}(),function(){function t(t,o,r,i,a,u,c,s,l,f){function m(n,i){var a=r.generateSurveyUUID(),u=o.create(),c=t.create(n,i),s=new e(u,c,a);return s.initialize(),s}function d(n){var r=o.fromJsonObject(n.metainfo),i=t.fromJsonObject(n.identity),a=n.oid,u=new e(r,i,a);return u.SurveyItemManager.loadJsonDataObject(n.itemContainer),u.NavigationManager.loadJsonData(n.navigationList),u.DataSourceManager.loadJsonData(n.dataSources),u.StaticVariableManager.loadJsonData(n.staticVariableList||[]),u.SurveyItemGroupManager.loadJsonData(n.surveyItemGroupList),u}function v(t){return n.SurveyDictionaryService.dictionaryConstructionByExtractionId(t)}var y=this;return y.OBJECT_TYPE="Survey",n.SurveyItemManagerFactory=a,n.NavigationManagerFactory=i,n.DataSourceDefinitionManagerFactory=u,n.SurveyDictionaryService=c,n.StaticVariableManagerFactory=s,n.SurveyItemGroupManagerFactory=l,n.ManagerCenterService=f,y.create=m,y.fromJsonObject=d,y.createDictionary=v,y}function e(t,e,o){function r(){N.SurveyItemManager.init(),N.NavigationManager.initialize()}function i(t){var e=N.SurveyItemManager.addItem(t,N.identity.acronym);return N.NavigationManager.addNavigation(),e}function a(t){N.SurveyItemGroupManager.removeItemFromGroup(t),N.SurveyItemManager.removeItem(t),N.NavigationManager.removeNavigation(t)}function u(t,e){N.SurveyItemGroupManager.allowItemMovement(t.templateID,e),N.SurveyItemManager.moveItem(t,e),N.NavigationManager.moveNavigation(t.templateID,e)}function c(t){N.navigationList[t.templateID]=t}function s(t,e){var n=N.SurveyItemManager.loadItem(t,e,N.identity.acronym);return N.NavigationManager.addNavigation(),n}function l(){N.SurveyItemManager.loadIncrementalIDValue(N.identity.acronym)}function f(){return N.SurveyItemManager.getItemList()}function m(t){return N.SurveyItemManager.getItemByTemplateID(t)}function d(t){return N.SurveyItemManager.getItemByCustomID(t)}function v(t){return N.SurveyItemManager.getItemByID(t)}function y(t){return!N.SurveyItemManager.existsItem(t)}function p(t){return N.SurveyItemManager.isAvailableCustomID(t)}function g(t){return N.DataSourceManager.getDataSourceDefinition(t)}function b(){return angular.copy(N.DataSourceManager.list())}function j(){return N.StaticVariableManager.create()}function I(){return N.StaticVariableManager.getStaticVariableList()}function h(){return N.StaticVariableManager.getWholeTemplateVariables()}function T(t){return N.StaticVariableManager.getItemVariables(t)}function S(t){N.StaticVariableManager.fillVariables(t)}function D(t){return N.SurveyItemGroupManager.getGroupByMember(t)}function O(t){var e=D(t);return e?e.members.map(function(t){return m(t.id)}):[m(t)]}function w(){var t={};return t.extents=N.extents,t.objectType=N.objectType,t.oid=N.oid,t.identity=N.identity,t.metainfo=N.metainfo,N.DataSourceManager.toJSON().length?t.dataSources=N.DataSourceManager:t.dataSources=[],t.itemContainer=[],N.SurveyItemManager.getItemList().forEach(function(e){t.itemContainer.push(e)}),t.navigationList=[],N.NavigationManager.getNavigationList().forEach(function(e){e?t.navigationList.push(e):t.navigationList.push({})}),t.staticVariableList=N.StaticVariableManager.getStaticVariableList(),t.surveyItemGroupList=N.SurveyItemGroupManager.getSurveyItemGroupList(),t}var N=this;N.extents="StudioObject",N.objectType="Survey",N.oid=o,N.identity=e,N.metainfo=t,N.SurveyItemManager=n.SurveyItemManagerFactory.create(),N.NavigationManager=n.NavigationManagerFactory.create(N),N.DataSourceManager=n.DataSourceDefinitionManagerFactory.create(),N.StaticVariableManager=n.StaticVariableManagerFactory.create(),N.SurveyItemGroupManager=n.SurveyItemGroupManagerFactory.create(),n.ManagerCenterService.initialize(N.SurveyItemManager,N.NavigationManager,N.SurveyItemGroupManager),N.initialize=r,N.addItem=i,N.removeItem=a,N.moveItem=u,N.updateItem=c,N.loadItem=s,N.getItems=f,N.getItemByTemplateID=m,N.getItemByCustomID=d,N.getItemByID=v,N.isAvailableID=y,N.isAvailableCustomID=p,N.getDataSource=g,N.getAllDataSources=b,N.createStaticVariable=j,N.getStaticVariableList=I,N.fillStaticVariablesValues=S,N.getWholeTemplateVariableList=h,N.getItemStaticVariableList=T,N.getGroupByItemID=D,N.getGroupItemsByItemID=O,N.loadIncrementalIDValue=l,N.toJSON=w}angular.module("otusjs.survey").factory("SurveyFactory",t),t.$inject=["SurveyIdentityFactory","SurveyMetaInfoFactory","SurveyUUIDGenerator","otusjs.model.navigation.NavigationManagerFactory","SurveyItemManagerFactory","otusjs.model.survey.DataSourceDefinitionManagerFactory","SurveyDictionaryService","otusjs.staticVariable.StaticVariableManagerFactory","otusjs.surveyItemGroup.SurveyItemGroupManagerFactory","otusjs.survey.ManagerCenterService"];var n={}}(),function(){function t(t){function n(t){return new e(t)}function o(n){var o=new e(n);return n.surveyTemplate&&(o.surveyTemplate=t.fromJsonObject(n.surveyTemplate)),o}var r=this;return r.OBJECT_TYPE="SurveyForm",r.create=n,r.fromJsonObject=o,r}function e(t){function e(){return r.surveyTemplate.getItems()}function n(){return r.requiredExternalID}function o(){var t={};return t.extents=r.extents,t.objectType=r.objectType,t._id=r._id,t.sender=r.sender,t.sendingDate=r.sendingDate,t.surveyFormType=r.surveyFormType,t.surveyTemplate=r.surveyTemplate,t.version=r.version,t.acronym=r.acronym,t.name=r.name,t.isDiscarded=r.isDiscarded,t.requiredExternalID=r.requiredExternalID,t}var r=this;r.extents="StudioObject",r.objectType="SurveyForm",r._id=t._id||void 0,r.sender=t.sender||null,r.sendingDate=t.sendingDate||null,r.surveyFormType=t.surveyFormType||null,r.surveyTemplate=t.surveyTemplate||null,r.surveyTemplate?(r.acronym=r.surveyTemplate.identity.acronym||null,r.name=r.surveyTemplate.identity.name||null):(r.acronym=t.acronym||null,r.name=t.name||null),r.version=t.version||null,r.isDiscarded=t.isDiscarded||!1,r.requiredExternalID=t.requiredExternalID||!1,r.getItems=e,r.toJSON=o,r.isRequiredExternalID=n}angular.module("otusjs.survey").factory("SurveyFormFactory",t),t.$inject=["SurveyFactory"]}(),function(){function t(){function t(t){if("string"==typeof t)throw new Error("otusjs.model.survey.model.SurveyIdentityFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e(t.name,t.acronym,t.version);return n.recommendedTo=t.recommendedTo,n.description=t.description,n.keywords=t.keywords,n}function n(t,n){return new e(t,n)}var o=this;return o.OBJECT_TYPE="SurveyIdentity",o.create=n,o.fromJsonObject=t,o}function e(t,e){function n(){var t={};return t.extents=o.extents,t.objectType=o.objectType,t.name=o.name,t.acronym=o.acronym,t.recommendedTo=o.recommendedTo,t.description=o.description,t.keywords=o.keywords,t}var o=this;o.extents="StudioObject",o.objectType="SurveyIdentity",o.name=t,o.acronym=e,o.recommendedTo="",o.description="",o.keywords=[],o.toJSON=n}angular.module("otusjs.survey").factory("SurveyIdentityFactory",t)}(),function(){function t(){function t(t){if("string"==typeof t)throw new Error("otusjs.model.survey.model.SurveyMetaInfoFactory.fromJsonObject() method expects to receive a object instead a String");return new e(t.creationDatetime)}function n(){var t=new Date;return new e(t)}var o=this;return o.OBJECT_TYPE="SurveyMetaInfo",o.create=n,o.fromJsonObject=t,o}function e(t){function e(){var t={};return t.extents=n.extents,t.objectType=n.objectType,t.creationDatetime=n.creationDatetime,t.otusStudioVersion=n.otusStudioVersion,t}var n=this;n.extents="StudioObject",n.objectType="SurveyMetaInfo",n.creationDatetime=t,n.otusStudioVersion="",n.toJSON=e}angular.module("otusjs.survey").factory("SurveyMetaInfoFactory",t)}(),function(){function t(t,n,o,r,i,a,u,c,s,l,f,m,d,v,y){function p(t,n){var o=new e(n);return j[t].create(n,o)}function g(t){return j[t.objectType].fromJsonObject(t)}var b=this,j={CalendarQuestion:t,IntegerQuestion:n,DecimalQuestion:o,SingleSelectionQuestion:r,CheckboxQuestion:i,TextQuestion:a,TimeQuestion:u,EmailQuestion:c,PhoneQuestion:s,AutocompleteQuestion:l,FileUploadQuestion:f,GridTextQuestion:m,GridIntegerQuestion:d,TextItem:v,ImageItem:y};return b.create=p,b.load=g,b}function e(t){var e=this;e.extents="StudioObject",e.objectType="SurveyItem",e.templateID=t}angular.module("otusjs.surveyItem").factory("SurveyItemFactory",t),t.$inject=["CalendarQuestionFactory","IntegerQuestionFactory","DecimalQuestionFactory","SingleSelectionQuestionFactory","CheckboxQuestionFactory","TextQuestionFactory","TimeQuestionFactory","EmailQuestionFactory","PhoneQuestionFactory","AutocompleteQuestionFactory","FileUploadQuestionFactory","otusjs.model.question.GridTextQuestionFactory","otusjs.model.question.GridIntegerQuestionFactory","TextItemFactory","ImageItemFactory"]}(),function(){function t(t){function n(){return new e(t)}var o=this;return o.create=n,o}function e(t){function e(e){D=[],e.forEach(function(e){D.push(t.load(e))})}function n(t){D=t}function o(){return D}function r(){return D.length}function i(t){var e=D.filter(function(e){return h(e,t)});return e[0]}function a(t){var e=D.filter(function(e){return T(e,t)});return e[0]}function u(t){var e=i(t);return e?e:a(t)}function c(){var t=[];return D.filter(function(e){"CheckboxQuestion"===e.objectType&&t.push(e)}),t}function s(){var t=[];return D.filter(function(e){"GridTextQuestion"===e.objectType&&t.push(e)}),t}function l(){var t=[];return D.filter(function(e){"GridIntegerQuestion"===e.objectType&&t.push(e)}),t}function f(t){return D[t]}function m(t){var e=i(t);return e?D.indexOf(e):null}function d(){return D[D.length-1]}function v(t){return!(!i(t)&&!a(t))}function y(e,n){var o=t.create(e,n);return D.push(o),o}function p(t){var e=D.filter(function(e){return h(e,t)}),n=D.indexOf(e[0]);n>-1&&D.splice(n,1)}function g(t){D.splice(t,1)}function b(){D.splice(-1,1)}function j(t,e){var n=D.findIndex(function(e){return h(e,t)});I(n,e)}function I(t,e){var n=D.splice(t,1)[0];t>=e?D.splice(e,0,n):D.splice(e-1,0,n)}function h(t,e){return t.templateID.toLowerCase()===e.toLowerCase()}function T(t,e){return t.customID.toLowerCase()===e.toLowerCase()}var S=this,D=[];S.loadFromItemContainerObject=e,S.manageItems=n,S.getItemList=o,S.getItemListSize=r,S.getItemByTemplateID=i,S.getItemByCustomID=a,S.getItemByID=u,S.getAllCheckboxQuestion=c,S.getAllGridTextQuestion=s,S.getAllGridIntegerQuestion=l,S.getItemByPosition=f,S.getItemPosition=m,S.getLastItem=d,S.existsItem=v,S.createItem=y,S.moveItem=j,S.removeItem=p,S.removeItemByPosition=g,S.removeCurrentLastItem=b}angular.module("otusjs.surveyItem").factory("SurveyItemContainerFactory",t),t.$inject=["SurveyItemFactory"]}(),function(){function t(t){function n(){return new e(t.create())}var o=this;return o.create=n,o}function e(t){function e(){T=0}function n(e){t.loadFromItemContainerObject(e)}function o(){return t.getItemList()}function r(){return t.getItemListSize()}function i(e){return t.getItemByTemplateID(e)}function a(e){return t.getItemByCustomID(e)}function u(e){return t.getItemByID(e)}function c(e){return t.getItemByPosition(e)}function s(e){return t.getItemPosition(e)}function l(){var e=[],n=t.getAllCheckboxQuestion(),o=t.getAllGridTextQuestion(),r=t.getAllGridIntegerQuestion();return n.length>0&&n.forEach(function(t){t.getAllCustomOptionsID().forEach(function(t){e.push(t)})}),o.length>0&&o.forEach(function(t){t.getAllCustomOptionsID().forEach(function(t){t.forEach(function(t){e.push(t)})})}),r.length>0&&r.forEach(function(t){t.getAllCustomOptionsID().forEach(function(t){t.forEach(function(t){e.push(t)})})}),e}function f(){return t.getLastItem()}function m(e,n,o){var r=t.createItem(e,n);return d(o),r}function d(t){o().forEach(function(e){v(parseInt(e.templateID.split(t)[1]))})}function v(t){T=T>t?T:t}function y(e,n){var o;do d(n),o=n+b();while(!I(o));return t.createItem(e,o)}function p(e){t.removeItem(e)}function g(e,n){t.moveItem(e.templateID,n)}function b(){return++T}function j(e){return t.existsItem(e)}function I(t){var e=!1;return l().forEach(function(n){n===t&&(e=!0)}),!(a(t)||e)}var h=this,T=0;h.init=e,h.loadJsonDataObject=n,h.setIncrementalIDValue=v,h.getItemList=o,h.getItemListSize=r,h.getItemByTemplateID=i,h.getItemByCustomID=a,h.getItemByID=u,h.getItemByPosition=c,h.getItemPosition=s,h.getAllCustomOptionsID=l,h.getLastItem=f,h.addItem=y,h.loadItem=m,h.removeItem=p,h.moveItem=g,h.existsItem=j,h.isAvailableCustomID=I,h.loadIncrementalIDValue=d}angular.module("otusjs.surveyItem").factory("SurveyItemManagerFactory",t),t.$inject=["SurveyItemContainerFactory"]}(),function(){function t(){function t(t,n){return new e(t,n)}function e(t,e){function n(){var t={};return t.objectType=o.objectType,t.email=r,t.participantActivityAccess=o.participantActivityAccess,t.offlineActivitySincAccess=o.offlineActivitySincAccess,t}var o=this,r=e||t.email;return o.objectType="ActivityPermission",o.participantActivityAccess=t.participantActivityAccess||!1,o.offlineActivitySincAccess=t.offlineActivitySincAccess||!1,o.toJSON=n,o}var n=this;return n.create=t,n}angular.module("otusjs.user.permission").factory("otusjs.user.permission.ActivityPermissionFactory",t)}(),function(){function t(){function t(t,n){return new e(t,n)}function e(t,e){function n(){var t={};return t.objectType=o.objectType,t.email=r,t.participantLaboratoryAccess=o.participantLaboratoryAccess,t.sampleTransportationAccess=o.sampleTransportationAccess,t.examLotsAccess=o.examLotsAccess,t.examSendingAccess=o.examSendingAccess,t.unattachedLaboratoriesAccess=o.unattachedLaboratoriesAccess,t.laboratoryMaterialManagerAccess=o.laboratoryMaterialManagerAccess,t.aliquotManagerAccess=o.aliquotManagerAccess,t}var o=this,r=e||t.email;return o.objectType="LaboratoryPermission",o.participantLaboratoryAccess=t.participantLaboratoryAccess||!1,o.sampleTransportationAccess=t.sampleTransportationAccess||!1,o.examLotsAccess=t.examLotsAccess||!1,o.examSendingAccess=t.examSendingAccess||!1,o.unattachedLaboratoriesAccess=t.unattachedLaboratoriesAccess||!1,o.laboratoryMaterialManagerAccess=t.laboratoryMaterialManagerAccess||!1,o.aliquotManagerAccess=t.aliquotManagerAccess||!1,o.toJSON=n,o}var n=this;return n.create=t,n}angular.module("otusjs.user.permission").factory("otusjs.user.permission.LaboratoryPermissionFactory",t)}(),function(){function t(){function t(t,n){return new e(t,n)}function e(t,e){function n(){var t={};return t.objectType=o.objectType,t.email=r,t.centerActivitiesAccess=o.centerActivitiesAccess,t.activityFlagsAccess=o.activityFlagsAccess,t.laboratoryFlagsAccess=o.laboratoryFlagsAccess,t.laboratoryControlAccess=o.laboratoryControlAccess,t.pendencyVisualizerAccess=o.pendencyVisualizerAccess,t}var o=this,r=e||t.email;return o.objectType="MonitoringPermission",o.centerActivitiesAccess=t.centerActivitiesAccess||!1,o.activityFlagsAccess=t.activityFlagsAccess||!1,o.laboratoryFlagsAccess=t.laboratoryFlagsAccess||!1,o.laboratoryControlAccess=t.laboratoryControlAccess||!1,o.pendencyVisualizerAccess=t.pendencyVisualizerAccess||!1,
o.toJSON=n,o}var n=this;return n.create=t,n}angular.module("otusjs.user.permission").factory("otusjs.user.permission.MonitoringPermissionFactory",t)}(),function(){function t(){function t(t,n){return new e(t,n)}function e(t,e){function n(){var t={};return t.objectType=o.objectType,t.email=r,t.participantListAccess=o.participantListAccess,t.participantCreateAccess=o.participantCreateAccess,t.anonymousParticipantAccess=o.anonymousParticipantAccess,t}var o=this,r=e||t.email;return o.objectType="ParticipantPermission",o.participantListAccess=t.participantListAccess||!1,o.participantCreateAccess=t.participantCreateAccess||!1,o.anonymousParticipantAccess=t.anonymousParticipantAccess||!1,o.toJSON=n,o}var n=this;return n.create=t,n}angular.module("otusjs.user.permission").factory("otusjs.user.permission.ParticipantPermissionFactory",t)}(),function(){function t(t){function n(n,o){if(!o)throw new Error("Undefined user email");return new e(t,n,o)}var o=this;return o.create=n,o}function e(t,e,n){function o(t){var e=i.permissionList.find(function(e){return e.objectType===t});if(!e)throw new Error("Permission not found: "+t);return e}function r(e){return e.map(function(e){return t.create(e,a)})}var i=this,a=n;i.objectType="UserPermissionManager",i.permissionList=r(e)||[],i.findByType=o}angular.module("otusjs.user.permission").factory("otusjs.user.permission.PermissionManagerFactory",t),t.$inject=["otusjs.user.permission.PermissionMapper"]}(),function(){function t(t,e,n,o,r){function i(i,a){switch(i.objectType){case"SurveyGroupPermission":return t.create(i,a);case"LaboratoryPermission":return e.create(i,a);case"ActivityPermission":return n.create(i,a);case"ParticipantPermission":return r.create(i,a);case"MonitoringPermission":return o.create(i,a);default:throw Error("Undefined object type")}}var a=this;a.create=i}angular.module("otusjs.user.permission").service("otusjs.user.permission.PermissionMapper",t),t.$inject=["otusjs.user.permission.SurveyGroupPermissionFactory","otusjs.user.permission.LaboratoryPermissionFactory","otusjs.user.permission.ActivityPermissionFactory","otusjs.user.permission.MonitoringPermissionFactory","otusjs.user.permission.ParticipantPermissionFactory"]}(),function(){function t(){function t(t,n){return new e(t,n)}function e(t,e){function n(t){a.groups.push(t)}function o(t){var e=a.groups.indexOf(t);return r(e),a}function r(t){if(t===-1)throw new Error("Group not found");return a.groups.splice(t,1),a}function i(){var t={};return t.objectType=a.objectType,t.email=u,t.groups=a.groups,t}var a=this,u=e||t.email;return a.objectType="SurveyGroupPermission",a.groups=t.groups||[],a.addGroup=n,a.removeGroupByName=o,a.removeGroupByPosition=r,a.toJSON=i,a}var n=this;return n.create=t,n}angular.module("otusjs.user.permission").factory("otusjs.user.permission.SurveyGroupPermissionFactory",t)}(),function(){function t(t,e,n,o,r,i,a,u,c,s,l,f,m,d,v,y,p,g,b,j,I,h,T,S,D){function O(t){return F[t].create()}function w(t){return F[t.validatorType].fromJsonObject(t.data)}var N=this;N.create=O,N.fromJsonObject=w;var F={accept:t,alphanumeric:e,distinct:n,futureDate:o,"in":r,lowerLimit:a,lowerCase:i,mandatory:u,maxDate:c,maxLength:s,maxTime:l,minDate:f,minLength:m,minTime:d,parameter:v,pastDate:y,precision:p,rangeDate:g,scale:b,specials:j,upperCase:I,upperLimit:h,minSelected:T,maxSelected:S,quantity:D};return N}angular.module("otusjs.validation").factory("FillingRulesDataFactory",t),t.$inject=["otusjs.model.accept.AcceptAnswerFactory","AlphanumericValidatorFactory","DistinctValidatorFactory","FutureDateValidatorFactory","InValidatorFactory","LowerCaseValidatorFactory","LowerLimitValidatorFactory","MandatoryValidatorFactory","MaxDateValidatorFactory","MaxLengthValidatorFactory","MaxTimeValidatorFactory","MinDateValidatorFactory","MinLengthValidatorFactory","MinTimeValidatorFactory","ParameterValidatorFactory","PastDateValidatorFactory","PrecisionValidatorFactory","RangeDateValidatorFactory","ScaleValidatorFactory","SpecialsValidatorFactory","UpperCaseValidatorFactory","UpperLimitValidatorFactory","otusjs.model.validation.MinSelectedValidatorFactory","otusjs.model.validation.MaxSelectedValidatorFactory","otusjs.model.validation.QuantityValidatorFactory"]}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.FillingRulesOptionFactory.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);for(var r in n.options)o.options[r]=t.fromJsonObject(n.options[r]);return o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){function e(){r.createOption("mandatory")}function n(e){var n=t.create(e);return r.options[e]=n,n}function o(t){delete r.options[t]}var r=this;r["extends"]="StudioObject",r.objectType="FillingRules",r.options={},r.createOption=n,r.removeFillingRules=o,e()}angular.module("otusjs.validation").factory("FillingRulesOptionFactory",t),t.$inject=["RulesFactory"]}(),function(){function t(t){function n(n){var o=t.create(n);return new e(n,o)}function o(n){var o=t.fromJsonObject(n);return new e(n.validatorType,o)}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t,e){var n=this;n["extends"]="StudioObject",n.objectType="Rule",n.validatorType=t,n.data=e}angular.module("otusjs.validation").factory("RulesFactory",t),t.$inject=["FillingRulesDataFactory"]}(),function(){function t(t,e,n,o,r,i,a){function u(t,e){t[e.customID]&&I.fillContainer.updateFilling(o.create(e,t[e.customID].value,t[e.customID].metadata,t[e.customID].comment))}function c(t){var e={};return I.fillContainer=a.create(),I.surveyForm.surveyTemplate.toJSON().itemContainer.forEach(function(n){e[n.templateID]=n.customID,u(t,n)}),e}function s(t){var e=c(t);I.fillContainer.buildJsonToFillContainer().fillingList.forEach(function(n){T&&(D=I.surveyForm.surveyTemplate.SurveyItemManager.getItemByTemplateID(n.questionID),n.answer.value=t[e[n.questionID]]?t[e[n.questionID]].value:null,n.answer.comment=t[e[n.questionID]]?t[e[n.questionID]].comment:"",t[e[n.questionID]].metadata?l(D.metadata.options,t[e[n.questionID]].metadata,n):n.metadata.value=null,f(n.questionID,n.answer,D,n.metadata),T||(I.error="Questão {"+e[n.questionID]+"} contém uma resposta inválida!"))}),I.isValid=T,T=!0}function l(t,e,n){var o=t.filter(function(t){return t.extractionValue===e});o.length?t.forEach(function(t,o){t.extractionValue===e&&(T=!0,n.metadata.value=++o)}):T=!1}function f(n,o,r,a){T&&(T=!o.value&&0!==o.value||!a.value,T&&!a.value&&(S=t.create(n,{data:o.value}),m(r),e.validateElement(n,function(t){t.forEach(function(t){t.validatorsResponse.forEach(function(t){T=t.result&&i.isValid(r.dataType,o.value)})})})))}function m(t){Object.keys(t.fillingRules.options).forEach(function(e){d(e,t)}),e.unregisterElement(S.id),e.registerElement(S)}function d(t,e){var n=e.fillingRules.options[t].data;"TimeQuestion"===e.objectType||"CalendarQuestion"===e.objectType?S.addValidator("ImmutableDate",n):S.addValidator(t,n)}function v(t){switch(t.status){case"OPENED":I.statusHistory.newOpenedRegistry(t.user);break;case"SAVED":I.statusHistory.newOpenedRegistry(t.user),I.statusHistory.newSavedRegistry(t.user);break;case"FINALIZED":I.statusHistory.newOpenedRegistry(t.user),I.statusHistory.newFinalizedRegistry(t.user)}}function y(t){switch(t.status){case"INITIALIZED_ONLINE":I.statusHistory.newInitializedOnlineRegistry(t.user);break;case"OPENED":I.statusHistory.newInitializedOnlineRegistry(t.user),I.statusHistory.newOpenedRegistry(t.user);break;case"SAVED":I.statusHistory.newInitializedOnlineRegistry(t.user),I.statusHistory.newOpenedRegistry(t.user),I.statusHistory.newSavedRegistry(t.user);break;case"FINALIZED":I.statusHistory.newInitializedOnlineRegistry(t.user),I.statusHistory.newOpenedRegistry(t.user),I.statusHistory.newFinalizedRegistry(t.user)}}function p(t){I.interviews.newRegistry(t)}function g(t,e){var n=!0;return e.forEach(function(e){n&&(n=t==e.acronym)}),n}function b(t,e,n){return O=[],Array.isArray(e)&&e.length>0&&g(t.surveyTemplate.identity.acronym,e)&&e.forEach(function(e){O.push(h.create(t,e,n))}),O}function j(t,e,o){return h=this,I=null,e.acronym==t.surveyTemplate.identity.acronym&&("PAPER"===e.mode&&e.offlineData?(I=n.createPaperActivity(t,o,e.participant,e.offlineData,e.activityConfiguration,e.id),v(e)):"ONLINE"===e.mode&&(I=n.create(t,o,e.participant,e.activityConfiguration,e.id),y(e)),s(e.answers),p(o),I.surveyForm.acronym=I.surveyForm.surveyTemplate.identity.acronym),angular.copy(I)}var I,h=this,T=!0,S=null,D=null,O=[];h.fromJsonObject=b,h.create=j}angular.module("otusjs.model.activity").service("otusjs.model.activity.ActivityImportService",t),t.$inject=["ElementRegisterFactory","otusjs.validation.api.ValidationService","otusjs.model.activity.ActivityFactory","otusjs.model.activity.QuestionFillFactory","otusjs.model.activity.InterviewFactory","otusjs.model.activity.ValidationTypeService","otusjs.model.activity.FillingManagerFactory"]}(),function(){function t(t,e,n,o,r){function i(t){return c[t]}function a(){c.IntegerQuestion=t,c.DecimalQuestion=t,c.SingleSelectionQuestion=t,c.TextQuestion=e,c.EmailQuestion=e,c.TimeQuestion=o,c.CheckboxQuestion=r,c.AutocompleteQuestion=e,c.FileUploadQuestion=t,c.GridTextQuestion=t,c.GridIntegerQuestion=t,c.CalendarQuestion=n}var u=this,c={};u.getEvaluator=i,a()}angular.module("otusjs.model.activity").service("otusjs.model.activity.AnswerEvaluationService",t),t.$inject=["otusjs.model.activity.NumericRuleTestService","otusjs.model.activity.TextRuleTestService","otusjs.model.activity.CalendarRuleTestService","otusjs.model.activity.TimeRuleTestService","otusjs.model.activity.CheckboxRuleTestService"]}(),function(){function t(t,e){function n(e,n){if(o(),e.isMetadata||n){if(e.isMetadata)return t.run(e,n);var i=e.answer.match(/^(\d{1,2})[\/](\d{1,2})[\/](\d{4})$/),u=r(i);return a[e.operator](u,n)}return!1}function o(){Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}function r(t){var n=new e;return n.resetDate(),n.setDate(t[1]),n.setMonth(t[2]-1),n.setFullYear(t[3]),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}var i=this,a={};i.name="CalendarRuleTestService",i.run=n,a.equal=function(t,e){return e.getTime()==t.getTime()},a.notEqual=function(t,e){return e.getTime()!=t.getTime()},a.greater=function(t,e){return e.getTime()>t.getTime()},a.greaterEqual=function(t,e){return e.getTime()>=t.getTime()},a.lower=function(t,e){return e.getTime()<t.getTime()},a.lowerEqual=function(t,e){return e.getTime()<=t.getTime()}}angular.module("otusjs.model.activity").service("otusjs.model.activity.CalendarRuleTestService",t),t.$inject=["otusjs.model.activity.NumericRuleTestService","otusjs.utils.ImmutableDate"]}(),function(){function t(t){function e(e,o){return n(),o instanceof Array?r[e.operator](e.answer,o):!(!e.isMetadata&&!Number.isInteger(o))&&t.run(e,o)}function n(){Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}var o=this,r={};o.name="CheckboxRuleTest",o.run=e,r.equal=function(t,e){var n=e.filter(function(e){if(e.option===t&&e.state===!0)return!0});return n.length>0},r.notEqual=function(t,e){var n=e.filter(function(e){if(e.option===t&&e.state===!0)return!0});return!(n.length>0)},r.contains=function(t,e){var n=e.filter(function(e){if(e.option===t&&e.state===!0)return!0});return n.length>0},r.quantity=function(t,e){var n=e.filter(function(t){if(t.state===!0)return!0});return n.length==t},r.minSelected=function(t,e){var n=e.filter(function(t){if(t.state===!0)return!0});return n.length>=t},r.maxSelected=function(t,e){var n=e.filter(function(t){if(t.state===!0)return!0});return n.length<=t}}angular.module("otusjs.model.activity").service("otusjs.model.activity.CheckboxRuleTestService",t),t.$inject=["otusjs.model.activity.NumericRuleTestService"]}(),function(){function t(){function t(t,o){return n(),null!=o&&(o&&o.replace&&(o=o.replace(/,/,".")),!(!Number.isInteger(Number(o))&&!e(o))&&r[t.operator](t.answer,Number(o)))}function e(t){return!isNaN(Number(t))&&!Number.isInteger(Number(t))}function n(){Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}var o=this,r={};o.name="NumericRuleTestService",o.run=t,r.equal=function(t,e){return e===Number(t)},r.notEqual=function(t,e){return e!==Number(t)},r.within=function(t,e){return t.some(function(t){return t.replace&&(t=t.replace(/,/,".")),r.equal(t,e)})},r.greater=function(t,e){return e>Number(t)},r.greaterEqual=function(t,e){return e>=Number(t)},r.lower=function(t,e){return e<Number(t)},r.lowerEqual=function(t,e){return e<=Number(t)},r.between=function(t,e){return r.greaterEqual(t[0],e)&&r.lowerEqual(t[1],e)}}angular.module("otusjs.model.activity").service("otusjs.model.activity.NumericRuleTestService",t)}(),function(){function t(t){function e(e,n){return!(!e.isMetadata&&!n)&&(e.isMetadata?t.run(e,n):o[e.operator](e.answer,n.toString()))}var n=this,o={};n.name="TextRuleTestService",n.run=e,o.equal=function(t,e){return e===t},o.notEqual=function(t,e){return e!==t},o.within=function(t,e){return t.some(function(t){return o.contains(t,e)})},o.contains=function(t,e){var n=new RegExp(t,"i");return n.test(e)}}angular.module("otusjs.model.activity").service("otusjs.model.activity.TextRuleTestService",t),t.$inject=["otusjs.model.activity.NumericRuleTestService"]}(),function(){function t(t,e){function n(e,n){if(o(),e.isMetadata||n){if(e.isMetadata)return t.run(e,n);var i=e.answer.split(":"),u=r(i);return a[e.operator](u,n)}return!1}function o(){Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}function r(t){var n=new e;return n.resetDate(),n.setHours(t[0]),n.setMinutes(t[1]),n.setSeconds(void 0!=t[2]?t[2]:0),n.setMilliseconds(void 0!=t[3]?t[3]:0),n}var i=this,a={};i.name="TimeRuleTestService",i.run=n,a.equal=function(t,e){return e.getTime()==t.getTime()},a.notEqual=function(t,e){return e.getTime()!=t.getTime()},a.greater=function(t,e){return e.getTime()>t.getTime()},a.greaterEqual=function(t,e){return e.getTime()>=t.getTime()},a.lower=function(t,e){return e.getTime()<t.getTime()},a.lowerEqual=function(t,e){return e.getTime()<=t.getTime()}}angular.module("otusjs.model.activity").service("otusjs.model.activity.TimeRuleTestService",t),t.$inject=["otusjs.model.activity.NumericRuleTestService","otusjs.utils.ImmutableDate"]}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(){function t(t,e){var l=!1;switch(t){case n:var f=new Date(e);l="string"==typeof e&&Number.isNaN(f.getDate());break;case o:var m=new Number(e);l="number"==typeof e&&Number.isInteger(m.valueOf())&&!Number.isNaN(m);break;case u:l="boolean"==typeof e;break;case s:l=Array.isArray(e);break;case r:case i:var d="number"==typeof e&&!Number.isNaN(new Number(e)),v="boolean"==typeof e,y=new Date(e);l=!Number.isNaN(y.getDate())&&y instanceof Date&&"object"===("undefined"==typeof y?"undefined":_typeof(y))&&!d&&!v;break;case c:var p=new Number(e).toFixed(9);l="number"==typeof e&&!Number.isInteger(p.valueOf())&&!Number.isNaN(p);break;case a:l=!0;break;default:l=!1}return l}var e=this,n="String",o="Integer",r="LocalDate",i="LocalTime",a="Binary",u="Boolean",c="Decimal",s="Array";e.isValid=t}angular.module("otusjs.model.activity").service("otusjs.model.activity.ValidationTypeService",t)}(),function(){function t(){function t(t,e,n){return t.options.createOption(e,n)}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("AddOptionItemService",t)}(),function(){function t(){function t(t,e){t.options.removeOption(e)}var e=this;e.execute=t}angular.module("otusjs.surveyItem").service("RemoveOptionItemService",t)}(),function(){function t(t,n){function o(){return new e(t,n,{})}function r(o){return new e(t,n,o)}var i=this;return i.create=o,i.fromJson=r,i}function e(t,e,n){function o(){i(),r()}function r(){v.aliquotList&&v.aliquotList.length>0&&v.aliquotList.map(function(t){c(t)})}function i(){v.aliquotName.length&&(d=e.getAliquotDescriptor(v.aliquotName),v.aliquotLabel=d.label)}function a(t){v.aliquotName=t,i()}function u(t){return c(t),v.aliquotList.push(t),t}function c(t){t.label=s(t.name),t.containerLabel="CRYOTUBE"===t.container.toUpperCase()?"Criotubo":"Palheta",t.roleLabel="EXAM"===t.role.toUpperCase()?"Exame":"Armazenamento"}function s(t){var n=e.getAliquotDescriptor(t);if(n)return n.label}function l(t){return v.aliquotList.splice(t,1)}function f(){return v.aliquotList.map(function(e){var n=t("date")(new Date(e.birthdate.value),"dd/MM/yyyy");return{aliquota:e.code,sexo:e.sex,nascimento:n}})}function m(){var t={objectType:v.objectType,_id:v._id,code:v.code,aliquotName:v.aliquotName,fieldCenter:v.fieldCenter,realizationDate:v.realizationDate,operator:v.operator,aliquotList:v.aliquotList};return t}var d,v=this;v.objectType="ExamLot",v._id=n._id||"",v.code=n.code||"",v.aliquotName=n.aliquotName||"",v.aliquotList=n.aliquotList||null,v.aliquotLabel=n.aliquotLabel||"",v.fieldCenter=n.fieldCenter||"",v.realizationDate=n.realizationDate||new Date,v.operator=n.operator||"",v.setAliquotName=a,v.insertAliquot=u,v.removeAliquotByIndex=l,v.getAliquotsToCsv=f,v.toJSON=m,o()}angular.module("otusjs.laboratory.exam").factory("otusjs.laboratory.exam.ExamLotFactory",t),t.$inject=["$filter","otusjs.laboratory.configuration.LaboratoryConfigurationService"]}(),function(){function t(t,n){function o(){return new e(t,n,{})}function r(o){return Array.isArray(o)?o.map(function(o){return new e(t,n,o)}):[]}var i=this;return i.create=o,i.fromJson=r,i}function e(t,e,n){function o(t){var n=e.fromJson([t]);return c.observations.push(n[0]),n}function r(e){var n=t.fromJson([e]);return c.examResults.push(n[0]),n}function i(t){return c.examResults.splice(t,1)}function a(t){return c.observations.splice(t,1)}function u(){var t={objectType:c.objectType,name:c.name,examResults:c.examResults,observations:c.observations};return t}var c=this;c.examResults=t.fromJson(n.examResults),c.observations=e.fromJson(n.observations),c.objectType="Exam",c.name=n.name||"",c.toJSON=u,c.insertObservation=o,c.insertResult=r,c.removeResultByIndex=i,c.removeObservationByIndex=a}angular.module("otusjs.laboratory.exam.sending").factory("otusjs.laboratory.exam.sending.Exam",t),t.$inject=["otusjs.laboratory.exam.sending.ExamResults","otusjs.laboratory.exam.sending.ExamObservation"]}(),function(){function t(){function t(){return new e({})}function n(t){return Array.isArray(t)?t.map(function(t){return new e(t)}):[]}var o=this;return o.create=t,o.fromJson=n,o}function e(t){function e(){var t={objectType:n.objectType,name:n.name,value:n.value};return t}var n=this;n.objectType="ExamObservation",n.name=t.name||"",n.value=t.value||"",n.toJSON=e}angular.module("otusjs.laboratory.exam.sending").factory("otusjs.laboratory.exam.sending.ExamObservation",t)}(),function(){function t(t){function n(){return new e(t,{})}function o(n){return Array.isArray(n)?n.map(function(n){return new e(t,n)}):[]}var r=this;return r.create=n,r.fromJson=o,r}function e(t,e){function n(){var t={objectType:i.objectType,examName:i.examName,code:i.code,resultName:i.resultName,releaseDate:i.releaseDate,observations:i.observations,value:i.value,isValid:i.isValid};return t}function o(e){var n=t.create(e);return i.observations.push(n),n}function r(t){return i.observations.splice(t,1)}var i=this;i.observations=t.fromJson(e.observations),i.objectType="ExamResults",i.examName=e.examName||"",i.code=e.code||e.aliquotCode||"",i.releaseDate=e.releaseDate||"",i.resultName=e.resultName||"",i.value=e.value||"",i.isValid=e.isValid!==!1,i.toJSON=n,i.insertObservation=o,i.removeObservationByIndex=r}angular.module("otusjs.laboratory.exam.sending").factory("otusjs.laboratory.exam.sending.ExamResults",t),t.$inject=["otusjs.laboratory.exam.sending.ExamObservation"]}(),function(){function t(t,n){function o(){return new e(t,n,{},{})}function r(o,r){return new e(t,n,o,r)}var i=this;return i.create=o,i.fromJson=r,i}function e(t,e,n,o){function r(t){var n=e.fromJson([t]);return c.exams.push(n[0]),n}function i(t){return c.exams.splice(t,1)}function a(){var t={examSendingLot:c.examSendingLot,exams:c.exams};return t}function u(){var t=[];return c.exams.forEach(function(e){e.examResults.forEach(function(e){var n={code:e.code,examName:e.examName,resultName:e.resultName,value:e.value,releaseDate:e.releaseDate,isValid:e.isValid};t.push(n)})}),t}var c=this;c.examSendingLot=t.fromJson(n),c.exams=e.fromJson(o),c.insertExam=r,c.removeExamByIndex=i,c.toJSON=a,c.getExamList=u}angular.module("otusjs.laboratory.exam.sending").factory("otusjs.laboratory.exam.sending.ExamSendingFactory",t),t.$inject=["otusjs.laboratory.exam.sending.ExamSendingLot","otusjs.laboratory.exam.sending.Exam"]}(),function(){function t(){function t(){return new e({})}function n(t){return new e(t instanceof Object?t:{})}var o=this;return o.create=t,o.fromJson=n,o}function e(t){function e(){var t={objectType:n.objectType,operator:n.operator,fileName:n.fileName,realizationDate:n.realizationDate,resultsQuantity:n.resultsQuantity,fieldCenter:n.fieldCenter,forcedSave:n.forcedSave};return n._id&&(t._id=n._id),t}var n=this;n._id=t._id||"",n.objectType="ExamSendingLot",n.operator=t.operator||"",n.fileName=t.fileName||"",n.realizationDate=t.realizationDate||"",n.resultsQuantity=t.resultsQuantity||"",n.fieldCenter=t.fieldCenter||"",n.forcedSave=t.forcedSave===!0,n.toJSON=e}angular.module("otusjs.laboratory.exam.sending").factory("otusjs.laboratory.exam.sending.ExamSendingLot",t)}(),function(){function t(){function t(t){var n=t||{};return new e(n)}var n=this;return n.create=t,n}function e(t){function e(t,e){o.metadata="",o.operator=t.email,o.time=(new Date).toISOString(),o.processing=new Date(e).toISOString()}function n(){return{objectType:o.objectType,metadata:o.metadata,operator:o.operator,time:o.time,processing:o.processing}}var o=this;o.objectType="AliquotCollectionData",o.metadata=t.metadata||"",o.operator=t.operator||"",o.time=t.time||"",o.processing=t.processing||"",o.fill=e,o.toJSON=n}angular.module("otusjs.laboratory.participant").factory("otusjs.laboratory.participant.AliquotCollectionDataFactory",t)}(),function(){function t(){function t(t,n){return new e(t,n)}function n(t){return Array.isArray(t)?t.map(function(t){return new e(t.userEmail,t.description,t.type,t.date).toJSON()}):[]}var o=this;return o.create=t,o.fromArray=n,o}function e(t,e,n,o){function r(){return{objectType:i.objectType,type:i.type,userEmail:i.userEmail,description:i.description,date:i.date}}var i=this;i.toJSON=r,i.objectType="AliquotEvent",i.type=n||"CONVERTED_STORAGE",i.userEmail=t||"",i.description=e||"",i.date=o||(new Date).toISOString()}angular.module("otusjs.laboratory.participant").factory("otusjs.laboratory.participant.aliquot.AliquotHistoryFactory",t)}(),function(){function t(t,n,o){function r(r,i){return r.map(function(r){return new e(t,n,o,r,i)})}function i(r,i){var a=angular.copy(r);return new e(t,n,o,a,i)}var a=this;return a.create=i,a.fromJSON=r,a}function e(t,e,n,o,r){function i(){m=n.getAliquotDescriptor(d.name),u(m),l()}function a(t){return d.aliquotHistory.filter(function(e){return e.type===t})}function u(t){d.label=t.label}function c(t,e,n){d.aliquotCollectionData.fill(t,e),d.locationPoint=n}function s(t,n,o){d.aliquotHistory.push(e.create(t,n)),d.role="EXAM",d.name=o,d.isConverted=!0}function l(){d.isConverted=d.aliquotHistory.filter(function(t){return"CONVERTED_STORAGE"===t.type}).length>0}function f(){var t={objectType:d.objectType,code:d.code,name:d.name,container:d.container,role:d.role,aliquotCollectionData:d.aliquotCollectionData,aliquotHistory:d.aliquotHistory,locationPoint:d.locationPoint};return t}var m,d=this;d.objectType="Aliquot",d.name=o.name,d.role=o.role,d.code=o.code||o.aliquotCode,d.container=o.container,d.locationPoint=o.locationPoint,d.aliquotCollectionData=t.create(o.aliquotCollectionData),d.aliquotHistory=e.fromArray(o.aliquotHistory),d.collect=c,d.convertStorage=s,d.getHistoryByType=a,d.toJSON=f,d.tubeCode=r.code,i()}angular.module("otusjs.laboratory.participant").factory("otusjs.laboratory.participant.ParticipantAliquotFactory",t),t.$inject=["otusjs.laboratory.participant.AliquotCollectionDataFactory","otusjs.laboratory.participant.aliquot.AliquotHistoryFactory","otusjs.laboratory.configuration.LaboratoryConfigurationService"]}(),function(){function t(t,n,o){function r(r,i){return new e(r,i,t,n,o)}function i(r,i){return r.map(function(r){return r.aliquots=r.aliquotes||r.aliquots,new e(r,i,t,n,o)})}var a=this;return a.create=r,a.buildFromArray=i,a}function e(t,e,n,o,r){function i(){y=e,s(),l()}function a(){p.tubeCollectionData.fill(y)}function u(t){p.tubeCollectionData.pushCustomMetadata(t)}function c(t){p.tubeCollectionData.removeCustomMetadata(t)}function s(){var t=r.getTubeDescriptor(p.type),e=r.getMomentDescriptor(p.moment);p.label=t?t.label:"",p.boxColor=t?t.color:"",p.momentLabel=""!==e.label?e.label:"Nenhum",p.typeLabel=t.label}function l(){p.availableAliquots=r.getAvaiableAliquots(p.moment,p.type)}function f(t){var e=o.create(t,p);return e.collect(y,t.processing,t.locationPoint._id),e}function m(t){p.aliquots.push(t)}function d(t){var e=o.create(t,p);e.collect(y),p.aliquots.push(e)}function v(){return{objectType:p.objectType,type:p.type,moment:p.moment,code:p.code,groupName:p.groupName,aliquotes:p.aliquots,order:p.order,tubeCollectionData:p.tubeCollectionData.toJSON()}}var y,p=this;p.objectType="Tube",p.code=t.code,p.type=t.type,p.moment=t.moment,p.groupName=t.groupName,p.aliquots=t.aliquots?o.fromJSON(t.aliquots,p):[],p.order=t.order,p.tubeCollectionData=n.create(t.tubeCollectionData,e),p.collect=a,p.pushCustomMetadata=u,p.removeCustomMetadata=c,p.toJSON=v,p.toAliquot=f,p.pushAliquot=m,p.toAliquotAndPush=d,i()}angular.module("otusjs.laboratory.participant").factory("otusjs.laboratory.participant.ParticipanTubeFactory",t),t.$inject=["otusjs.laboratory.participant.TubeCollectionDataFactory","otusjs.laboratory.participant.ParticipantAliquotFactory","otusjs.laboratory.configuration.LaboratoryConfigurationService"]}(),function(){function t(){function t(t){return new e(t)}var n=this;return n.create=t,n}function e(t){function e(t){i.isCollected=!0,i.metadata="",i.operator=t.email,i.time=(new Date).toISOString(),i.customMetadata=[]}function n(t){i.customMetadata.push(t)}function o(t){i.customMetadata=i.customMetadata.filter(function(e){return e!==t})}function r(){return{objectType:i.objectType,isCollected:i.isCollected,metadata:i.metadata,operator:i.operator,time:i.time,customMetadata:i.customMetadata}}var i=this;i.objectType="TubeCollectionData",i.isCollected=t.isCollected,i.metadata=t.metadata,i.operator=t.operator,i.time=t.time,i.customMetadata=t.customMetadata||[],i.fill=e,i.pushCustomMetadata=n,i.removeCustomMetadata=o,i.toJSON=r}angular.module("otusjs.laboratory.participant").factory("otusjs.laboratory.participant.TubeCollectionDataFactory",t)}(),function(){function t(t){function e(){return t.create()}function n(e){return t.fromJson(e)}var o=this;return o.createAliquotLot=e,o.buildAliquotLotFromJson=n,o}angular.module("otusjs.laboratory.transportation").service("otusjs.laboratory.transportation.TransportationService",t),t.$inject=["otusjs.laboratory.transportation.LotFactory"]}(),function(){function t(t){function n(){return new e({},i.Model)}function o(t){return new e(t,i.Model)}function r(t){return Array.isArray(t)?t.map(function(t){return new e(t,i.Model)}):[]}var i=this;return i.create=n,i.fromJson=o,i.fromArray=r,i.Model={ActivityAutoFillEvent:t},i}function e(t,e){function n(t,n){if(n&&t)return e[t].fromJson(n);throw new Error("Insuficients parameters")}function o(t){i.events.splice(t,1)}function r(){var t={};return t._id=i._id,t.objectType=i.objectType,t.description=i.description,t.order=i.order,t.windowBetween=i.windowBetween,t.time=i.time,t}var i=this;return i._id=t._id,i.objectType="FollowUp",i.description=t.description||"",i.order=t.order,i.windowBetween=t.windowBetween||null,i.time=t.time||null,i.deadline=t.deadline||{},i.participantEvents=t.participantEvents||[],i.events=Array.isArray(t.events)?t.events.map(function(t){return e[t.objectType].fromJson(t)}):[],i.createEvent=n,i.removeEvent=o,i.toJSON=r,i}angular.module("otusjs.model.outcome").factory("otusjs.model.outcome.FollowUpFactory",t),t.$inject=["otusjs.model.outcome.ActivityAutoFillEventFactory"]}(),function(){function t(){function t(t,n){if("string"!=typeof t)throw Error("Name should be a string");if(n&&!Array.isArray(n))throw Error("surveyAcronyms should be an array");return new e(t,n)}function n(e){return t(e.name,e.surveyAcronyms)}var o=this;return o.create=t,o.fromJson=n,o}function e(t,e){function n(){return u.name}function o(){return u.surveyAcronyms}function r(t){if(u.surveyAcronyms.indexOf(t)!==-1)throw new Error("Survey already in the group");return u.surveyAcronyms.push(t),u}function i(t){var e=u.surveyAcronyms.indexOf(t);if(e===-1)throw new Error("Survey not found in the group");return u.surveyAcronyms.splice(e,1),u}function a(){return{name:u.name,surveyAcronyms:u.surveyAcronyms}}var u=this;if(u.objectType="SurveyGroup",u.name=t,u.surveyAcronyms=e||[],!u.name)throw new Error("Name should be provided");u.getName=n,u.getSurveys=o,u.addSurvey=r,u.removeSurvey=i,u.toJSON=a}angular.module("otusjs.survey").factory("otusjs.survey.GroupFactory",t)}(),function(){function t(t){function n(n){return new e(t,n)}var o=this;return o.create=n,o}function e(t,e){function n(e,n){if(r(e))throw new Error("Group already exists");var o=t.create(e,n);return f[e]=o,o}function o(){return Object.values(f)}function r(t){return f[t]}function i(){return Object.keys(f)}function a(t){var e=r(t);if(!e)throw new Error("Group not found");return e.getSurveys()}function u(t){return o().filter(function(e){return e.getSurveys().includes(t)}).map(function(t){return t.getName()})}function c(){return l.getGroupList()}function s(e){var n={};return e&&e.forEach(function(e){var o=t.fromJson(e);n[o.getName()]=o}),n}var l=this,f=s(e);l.objectType="SurveyGroupManager",l.createGroup=n,l.getGroup=r,l.getGroupList=o,l.getGroupNames=i,l.getGroupSurveys=a,l.getSurveyGroups=u,l.toJSON=c}angular.module("otusjs.survey").factory("otusjs.survey.GroupManagerFactory",t),t.$inject=["otusjs.survey.GroupFactory"]}(),function(){function t(){function t(t){return new e(t)}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.DataSourceDefinitionFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e(t.name);return t.bindTo.forEach(function(t){n.performBind(t)}),n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t){function e(){s=t.toLowerCase().replace(/\s/g,"")}function n(){return d.length>0}function o(){return s}function r(){return m}function i(t){d.push(t)}function a(t){var e=d.indexOf(t);d.splice(e,1)}function u(){return d}function c(){var t={};return t.objectType=f,t.id=s,t.name=m,t.bindTo=d,t}var s,l=this,f="DataSourceDefinition",m=t,d=[];l.isBinded=n,l.getID=o,l.getName=r,l.performBind=i,l.removeBind=a,l.getBindedItems=u,l.toJSON=c,e()}angular.module("otusjs.survey").factory("otusjs.model.survey.DataSourceDefinitionFactory",t)}(),function(){function t(t){function o(){return new e}n.DataSourceDefinitionFactory=t;var r=this;return r.create=o,r}function e(){function t(t){var e=a(t);return e||(e=c.DataSourceDefinitionFactory.create(t),s.push(e)),e}function e(t){return s.filter(function(e){return e.getBindedItems().includes(t)})}function o(){return s}function r(){var t=[];return s.filter(u).forEach(function(e){t.push(e.toJSON())}),t}function i(t){t instanceof Array&&t.forEach(function(t){s.push(c.DataSourceDefinitionFactory.fromJsonObject(t))})}function a(t){return s.find(function(e){return t.toLowerCase()===e.getName().toLowerCase()})}function u(t){return t.isBinded()}var c=this,s=[];c.DataSourceDefinitionFactory=n.DataSourceDefinitionFactory,
c.getDataSourceDefinition=t,c.getDataSourcesByItemID=e,c.list=o,c.toJSON=r,c.loadJsonData=i}angular.module("otusjs.survey").factory("otusjs.model.survey.DataSourceDefinitionManagerFactory",t),t.$inject=["otusjs.model.survey.DataSourceDefinitionFactory"];var n={}}(),function(){function t(){function t(t,e,n){r=t,i=e,a=n}function e(){return r}function n(){return i}function o(){return a}var r,i,a,u=this;u.initialize=t,u.getSurveyItemManager=e,u.getNavigationManager=n,u.getSurveyItemGroupManager=o}angular.module("otusjs.survey").service("otusjs.survey.ManagerCenterService",t)}(),function(){function t(){function t(t){var o=[];return t.itemContainer.forEach(function(r){var i=void 0;switch(r.objectType){case"CheckboxQuestion":case"GridTextQuestion":case"GridIntegerQuestion":n(r).forEach(function(n){i={},e(t,i,r,n),o.push(i)});break;default:i={},e(t,i,r),i.extractionValues=n(r),o.push(i)}}),o}var o=this;o.dictionaryConstructionByExtractionId=t}function e(t,e,n,a){switch(e.acronym=t.identity.acronym,e.objectType=n.objectType,n.objectType){case"CheckboxQuestion":case"GridTextQuestion":case"GridIntegerQuestion":e.extractionID=a.customID,e.label=a.label,e.extractionValues=a.value,e.metadata=r(n),e.validationTypes=i(n);break;default:e.extractionID=n.customID,o(n,e)}}function n(t){var e=[];return Array.isArray(t.options)&&t.options.map(function(t){switch(t.objectType){case"CheckboxAnswerOption":e.push({customID:t.customOptionID,label:t.label.ptBR.plainText,value:[{value:0,label:!1},{value:1,label:!0}]});break;case"AnswerOption":e.push({value:t.extractionValue,label:t.label.ptBR.plainText})}}),Array.isArray(t.lines)&&t.lines.map(function(t){"GridTextLine"==t.objectType&&t.gridTextList.map(function(t){e.push({customID:t.customID,label:t.label.ptBR.plainText,value:[]})}),"GridIntegerLine"==t.objectType&&t.gridIntegerList.map(function(t){e.push({customID:t.customID,label:t.label.ptBR.plainText,value:[]})})}),e}function o(t,e){"TextItem"!=t.objectType?(e.label=t.label.ptBR.plainText,e.metadata=r(t)||[],e.validationTypes=i(t)||[]):(e.label=t.value.ptBR.plainText,e.metadata=[],e.validationTypes=[])}function r(t){var e=[];return t.metadata.options.map(function(t){e.push(t.label.ptBR.plainText+"("+t.extractionValue+")")}),e}function i(t){var e=[];return t.fillingRules.options.mandatory&&e.push({name:t.fillingRules.options.mandatory.validatorType,value:t.fillingRules.options.mandatory.data.reference}),t.fillingRules.options.accept&&e.push({name:t.fillingRules.options.accept.validatorType,value:t.fillingRules.options.accept.data.reference}),t.fillingRules.options.distinct&&e.push({name:t.fillingRules.options.distinct.validatorType,value:t.fillingRules.options.distinct.data.reference}),t.fillingRules.options.lowerLimit&&e.push({name:t.fillingRules.options.lowerLimit.validatorType,value:t.fillingRules.options.lowerLimit.data.reference}),t.fillingRules.options.upperLimit&&e.push({name:t.fillingRules.options.upperLimit.validatorType,value:t.fillingRules.options.upperLimit.data.reference}),t.fillingRules.options.precision&&e.push({name:t.fillingRules.options.precision.validatorType,value:t.fillingRules.options.precision.data.reference}),t.fillingRules.options.scale&&e.push({name:t.fillingRules.options.scale.validatorType,value:t.fillingRules.options.scale.data.reference}),t.fillingRules.options["in"]&&e.push({name:t.fillingRules.options["in"].validatorType,begin:t.fillingRules.options["in"].data.reference.initial,end:t.fillingRules.options["in"].data.reference.end}),t.fillingRules.options.minDate&&e.push({name:t.fillingRules.options.minDate.validatorType,value:t.fillingRules.options.minDate.data.reference.value}),t.fillingRules.options.maxDate&&e.push({name:t.fillingRules.options.maxDate.validatorType,value:t.fillingRules.options.maxDate.data.reference.value}),t.fillingRules.options.futureDate&&e.push({name:t.fillingRules.options.futureDate.validatorType,value:t.fillingRules.options.futureDate.data.reference}),t.fillingRules.options.pastDate&&e.push({name:t.fillingRules.options.pastDate.validatorType,value:t.fillingRules.options.pastDate.data.reference}),t.fillingRules.options.rangeDate&&e.push({name:t.fillingRules.options.rangeDate.validatorType,begin:t.fillingRules.options.rangeDate.data.reference.initial.value,end:t.fillingRules.options.rangeDate.data.reference.end.value}),t.fillingRules.options.minSelected&&e.push({name:t.fillingRules.options.minSelected.validatorType,value:t.fillingRules.options.minSelected.data.reference}),t.fillingRules.options.maxSelected&&e.push({name:t.fillingRules.options.maxSelected.validatorType,value:t.fillingRules.options.maxSelected.data.reference}),t.fillingRules.options.quantity&&e.push({name:t.fillingRules.options.quantity.validatorType,value:t.fillingRules.options.quantity.data.reference}),t.fillingRules.options.maxTime&&(e.push({name:t.fillingRules.options.maxTime.validatorType,value:t.fillingRules.options.maxTime.data.reference.value}),t.fillingRules.options.minTime&&e.push({name:t.fillingRules.options.minTime.validatorType,value:t.fillingRules.options.minTime.data.reference.value})),e}angular.module("otusjs.survey").service("SurveyDictionaryService",t)}(),function(){function t(t){function n(n,o){var r=t.create();return new e(n,o,r)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.ImageItemFactory.fromJsonObject() method expects to receive a object instead a String");var o=t.fromJsonObject(n.footer),r={};r.objectType="SurveyItem";var i=new e(n.templateID,r,o);return i.customID=n.customID,i.url=n.url,i}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t,e,n){function o(){return!1}function r(){var t={};return t.extents=i.extents,t.objectType=i.objectType,t.templateID=i.templateID,t.customID=i.customID,t.dataType=i.dataType,t.url=i.url,t.footer=i.footer,t}var i=this;i.extents=e.objectType,i.objectType="ImageItem",i.templateID=t,i.customID=t,i.dataType="String",i.url="",i.footer=n,i.isQuestion=o,i.toJSON=r}angular.module("otusjs.surveyItem").factory("ImageItemFactory",t),t.$inject=["LabelFactory"]}(),function(){function t(t){function n(n,o){var r=t.create();return new e(n,o,r)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.TextItem.fromJsonObject() method expects to receive a object instead a String");var o=t.fromJsonObject(n.value),r={};r.objectType="SurveyItem";var i=new e(n.templateID,r,o);return i.customID=n.customID,i}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t,e,n){function o(){return!1}function r(){var t={};return t.extents=i.extents,t.objectType=i.objectType,t.templateID=i.templateID,t.customID=i.customID,t.dataType=i.dataType,t.value=i.value,t}var i=this;i.extents=e.objectType,i.objectType="TextItem",i.templateID=t,i.customID=t,i.dataType="String",i.value=n,i.isQuestion=o,i.toJSON=r}angular.module("otusjs.surveyItem").factory("TextItemFactory",t),t.$inject=["LabelFactory"]}(),function(){function t(){function t(t){return t.oid?new e(t):null}function n(t){var n=[];return t.forEach(function(t){var o=new e(t);o.sentDate=new Date(t.sentDate),n.push(o)}),n}var o=this;return o.buildAnswer=t,o.buildFromJson=n,o}function e(t){function e(){var t=n.size,e=["Bytes","KB","MB","GB","TB"];if(0===t)return"0 Byte";var o=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,o),2)+" "+e[o]}var n=this;n.objectType="FileAnswer",n.name=t.name,n.size=t.size,n.type=t.type,n.sentDate=t.lastModifiedDate?t.lastModifiedDate.toISOString():"",n.oid=t.oid,n.printableSize=e()}angular.module("otusjs.surveyItem").factory("otusjs.surveyItem.customAnswer.FileUploadAnswerFactory",t)}(),function(){function t(){function t(t){return new e(t)}function n(t){return"OptionItem"===t.objectType?new e(t.value):[]}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t){var e=this;e["extends"]="StudioObject",e.objectType="OptionItem",e.value=t}angular.module("otusjs.surveyItem").factory("OptionItemFactory",t)}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.QuestionOptionFactory.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);for(var r in n.data)o.data[r]=t.fromJsonObject(n.data[r]);return o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){function e(e,n){var r=t.create(n);return o.data[e]=r,r}function n(t){delete o.data[t]}var o=this;o["extends"]="StudioObject",o.objectType="QuestionOption",o.data={},o.createOption=e,o.removeOption=n}angular.module("otusjs.surveyItem").factory("QuestionOptionFactory",t),t.$inject=["OptionItemFactory"]}(),function(){function t(t){function n(n,o,r){var i=t.create();return new e(n,o,r,i)}function o(t){return r(JSON.parse(t))}function r(n){var o=t.fromJsonObject(n.label);return new e(n.value,n.extractionValue,n.parentQuestionID,o)}var i=this;return i.create=n,i.fromJson=o,i.fromJsonObject=r,i}function e(t,e,n,o){function r(t){a.extractionValue=t}function i(){var t={};return t.extents=a.extents,t.objectType=a.objectType,t.value=a.value,t.extractionValue=a.extractionValue,t.dataType=a.dataType,t.label=a.label,t.metadata=a.metadata,t.parentQuestionID=a.parentQuestionID,t}var a=this;a.extents="StudioObject",a.objectType="AnswerOption",a.value=t,a.extractionValue=e,a.dataType="Integer",a.label=o,a.parentQuestionID=n,a.toJSON=i,a.setExtractionValue=r}angular.module("otusjs.surveyItem").factory("AnswerOptionFactory",t),t.$inject=["LabelFactory"]}(),function(){function t(t,n,o){function r(r,i){var a=t.create(),u=n.create(),c=o.create();return new e(r,i,a,u,c)}function i(r){if("string"==typeof r)throw new Error("otusjs.model.misc.model.AutocompleteQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var i=t.fromJsonObject(r.label),a=n.fromJsonObject(r.metadata),u=o.fromJsonObject(r.fillingRules),c={};c.objectType="SurveyItem";var s=new e(r.templateID,c,i,a,u);return s.customID=r.customID,s.dataSources=r.dataSources,s}var a=this;return a.create=r,a.fromJsonObject=i,a}function e(t,e,n,o,r){function i(){return!0}function a(){var t=["mandatory"];return t}function u(){var t={};return t.extents=c.extents,t.objectType=c.objectType,t.templateID=c.templateID,t.customID=c.customID,t.dataType=c.dataType,t.dataSources=c.dataSources,t.label=c.label,t.metadata=c.metadata,t.fillingRules=c.fillingRules,t}var c=this;c.extents=e.objectType,c.objectType="AutocompleteQuestion",c.templateID=t,c.customID=t,c.dataType="String",c.dataSources=[],c.label=n,c.metadata=o,c.fillingRules=r,c.isQuestion=i,c.validators=a,c.toJSON=u}angular.module("otusjs.surveyItem").factory("AutocompleteQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o){function r(r,i){var a=t.create(),u=n.create(),c=o.create();return new e(r,i,a,u,c)}function i(r){if("string"==typeof r)throw new Error("otusjs.model.misc.model.CalendarQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var i=t.fromJsonObject(r.label),a=n.fromJsonObject(r.metadata),u=o.fromJsonObject(r.fillingRules),c={};c.objectType="SurveyItem";var s=new e(r.templateID,c,i,a,u);return s.customID=r.customID,s}var a=this;return a.create=r,a.fromJsonObject=i,a}function e(t,e,n,o,r){function i(){return!0}function a(){var t=["mandatory","minDate","maxDate","rangeDate","futureDate","pastDate"];return t}function u(){var t={};return t.extents=c.extents,t.objectType=c.objectType,t.templateID=c.templateID,t.customID=c.customID,t.dataType=c.dataType,t.label=c.label,t.metadata=c.metadata,t.fillingRules=c.fillingRules,t}var c=this;c.extents=e.objectType,c.objectType="CalendarQuestion",c.templateID=t,c.customID=t,c.dataType="LocalDate",c.label=n,c.metadata=o,c.fillingRules=r,c.isQuestion=i,c.validators=a,c.toJSON=u}angular.module("otusjs.surveyItem").factory("CalendarQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","FillingRulesOptionFactory"]}(),function(){function t(t){function n(n){var o=t.create();return new e(n,o)}function o(t){var e=JSON.parse(t);return r(e)}function r(n){var o=t.fromJsonObject(n.label),r=new e(n.optionID,o);return r.customOptionID=n.customOptionID,r}var i=this;return i.create=n,i.fromJsonObject=r,i.createWithData=o,i}function e(t,e){function n(t){r.customOptionID=t}function o(){var t={};return t.extents=r.extents,t.objectType=r.objectType,t.optionID=r.optionID,t.customOptionID=r.customOptionID,t.dataType=r.dataType,t.value=r.value,t.label=r.label,t}var r=this;r.extents="StudioObject",r.objectType="CheckboxAnswerOption",r.optionID=t,r.customOptionID=t,r.dataType="Boolean",r.value=!1,r.label=e,r.toJSON=o,r.setCustomOptionID=n}angular.module("otusjs.surveyItem").factory("CheckboxAnswerOptionFactory",t),t.$inject=["LabelFactory"]}(),function(){function t(t,n,o,r){function i(i,a){var u=t.create(),c=n.create(),s=r.create();return new e(i,a,o,u,c,s)}function a(i){if("string"==typeof i)throw new Error("otusjs.model.misc.model.CheckboxQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var a=t.fromJsonObject(i.label),u=n.fromJsonObject(i.metadata),c=r.fromJsonObject(i.fillingRules),s={};s.objectType="SurveyItem";var l=new e(i.templateID,s,o,a,u,c);return i.options.forEach(function(t){l.options.push(o.fromJsonObject(t))}),l.customID=i.customID,l}var u=this;return u.create=i,u.fromJsonObject=a,u}function e(t,e,n,o,r,i){function a(){return I.options}function u(){return I.options.length}function c(t){for(var e=null,n=0;n<I.options.length;n++)I.options[n].optionID===t&&(e=I.options[n]);return e}function s(t){for(var e=null,n=0;n<I.options.length;n++)I.options[n].customOptionID===t&&(e=I.options[n]);return e}function l(t){return I.options[t-1]}function f(){return!0}function m(){var t=["mandatory","minSelected","maxSelected","quantity"];return t}function d(t){var e=n.create(t);return I.options.push(e),e}function v(t){var e=n.createWithData(t);return I.options.push(e),e}function y(t){I.options.splice(t-1,1),j()}function p(){I.options.splice(-1,1)}function g(){var t=[];return I.options.forEach(function(e){t.push(e.customOptionID)}),t}function b(){var t={};return t.extents=I.extents,t.objectType=I.objectType,t.templateID=I.templateID,t.customID=I.customID,t.dataType=I.dataType,t.label=I.label,t.options=I.options,t.metadata=I.metadata,t.fillingRules=I.fillingRules,t}function j(){I.options.forEach(function(t,e){t.value=++e})}var I=this;I.extents=e.objectType,I.objectType="CheckboxQuestion",I.templateID=t,I.customID=t,I.dataType="Array",I.label=o,I.metadata=r,I.fillingRules=i,I.options=[],I.getOptionList=a,I.getOptionListSize=u,I.getOptionByValue=l,I.getOptionByOptionID=c,I.getOptionByCustomOptionID=s,I.createOption=d,I.loadJsonOption=v,I.removeOption=y,I.removeLastOption=p,I.isQuestion=f,I.validators=m,I.getAllCustomOptionsID=g,I.toJSON=b}angular.module("otusjs.surveyItem").factory("CheckboxQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","CheckboxAnswerOptionFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o,r){function i(i,a){var u=t.create(),c=n.create(),s=r.create(),l={};return l.ptBR=o.create(),l.enUS=o.create(),l.esES=o.create(),new e(i,a,u,c,l,s)}function a(i){if("string"==typeof i)throw new Error("otusjs.model.misc.model.DecimalQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var a=t.fromJsonObject(i.label),u=n.fromJsonObject(i.metadata),c=r.fromJsonObject(i.fillingRules),s={};s.ptBR=o.fromJsonObject(i.unit.ptBR),s.enUS=o.fromJsonObject(i.unit.enUS),s.esES=o.fromJsonObject(i.unit.esES);var l={};l.objectType="SurveyItem";var f=new e(i.templateID,l,a,u,s,c);return f.customID=i.customID,f}var u=this;return u.create=i,u.fromJsonObject=a,u}function e(t,e,n,o,r,i){function a(){return!0}function u(){var t=["mandatory","distinct","lowerLimit","upperLimit","in","scale"];return t}function c(){var t={};return t.extents=s.extents,t.objectType=s.objectType,t.templateID=s.templateID,t.customID=s.customID,t.dataType=s.dataType,t.label=s.label,t.metadata=s.metadata,t.unit=s.unit,t.fillingRules=s.fillingRules,t}var s=this;s.extents=e.objectType,s.objectType="DecimalQuestion",s.templateID=t,s.customID=t,s.dataType="Decimal",s.label=n,s.metadata=o,s.fillingRules=i,s.unit=r,s.isQuestion=a,s.validators=u,s.toJSON=c}angular.module("otusjs.surveyItem").factory("DecimalQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","UnitFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o){function r(r,i){var a=t.create(),u=n.create(),c=o.create();return new e(r,i,a,u,c)}function i(r){if("string"==typeof r)throw new Error("otusjs.model.misc.model.EmailQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var i=t.fromJsonObject(r.label),a=n.fromJsonObject(r.metadata),u=o.fromJsonObject(r.fillingRules),c={};c.objectType="SurveyItem";var s=new e(r.templateID,c,i,a,u);return s.customID=r.customID,s}var a=this;return a.create=r,a.fromJsonObject=i,a}function e(t,e,n,o,r){function i(){return!0}function a(){var t=["mandatory"];return t}function u(){var t={};return t.extents=c.extents,t.objectType=c.objectType,t.templateID=c.templateID,t.customID=c.customID,t.dataType=c.dataType,t.label=c.label,t.metadata=c.metadata,t.fillingRules=c.fillingRules,t}var c=this;c.extents=e.objectType,c.objectType="EmailQuestion",c.templateID=t,c.customID=t,c.dataType="String",c.label=n,c.metadata=o,c.fillingRules=r,c.isQuestion=i,c.validators=a,c.toJSON=u}angular.module("otusjs.surveyItem").factory("EmailQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o){function r(r,i){var a=t.create(),u=n.create(),c=o.create();return new e(r,i,a,u,c)}function i(r){if("string"==typeof r)throw new Error("otusjs.model.misc.model.FileUploadQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var i=t.fromJsonObject(r.label),a=n.fromJsonObject(r.metadata),u=o.fromJsonObject(r.fillingRules),c={};c.objectType="SurveyItem";var s=new e(r.templateID,c,i,a,u);return s.customID=r.customID,s}var a=this;return a.create=r,a.fromJsonObject=i,a}function e(t,e,n,o,r){function i(){return!0}function a(){var t=["mandatory"];return t}function u(){var t={};return t.extents=c.extents,t.objectType=c.objectType,t.templateID=c.templateID,t.customID=c.customID,t.dataType=c.dataType,t.label=c.label,t.metadata=c.metadata,t.fillingRules=c.fillingRules,t}var c=this;c.extents=e.objectType,c.objectType="FileUploadQuestion",c.templateID=t,c.customID=t,c.dataType="Binary",c.label=n,c.metadata=o,c.fillingRules=r,c.isQuestion=i,c.validators=a,c.toJSON=u}angular.module("otusjs.surveyItem").factory("FileUploadQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o,r){function i(i,a){var u=t.create(),c=n.create(),s=r.create(),l={};return l.ptBR=o.create(),l.enUS=o.create(),l.esES=o.create(),new e(i,a,u,c,l,s)}function a(i){if("string"==typeof i)throw new Error("otusjs.model.misc.model.IntegerQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var a=t.fromJsonObject(i.label),u=n.fromJsonObject(i.metadata),c=r.fromJsonObject(i.fillingRules),s={};s.ptBR=o.fromJsonObject(i.unit.ptBR),s.enUS=o.fromJsonObject(i.unit.enUS),s.esES=o.fromJsonObject(i.unit.esES);var l={};l.objectType="SurveyItem";var f=new e(i.templateID,l,a,u,s,c);return f.customID=i.customID,f}var u=this;return u.create=i,u.fromJsonObject=a,u}function e(t,e,n,o,r,i){function a(){return!0}function u(){var t=["mandatory","distinct","lowerLimit","upperLimit","precision","in"];return t}function c(){var t={};return t.extents=s.extents,t.objectType=s.objectType,t.templateID=s.templateID,t.customID=s.customID,t.dataType=s.dataType,t.label=s.label,t.metadata=s.metadata,t.unit=s.unit,t.fillingRules=s.fillingRules,t}var s=this;s.extents=e.objectType,s.objectType="IntegerQuestion",s.templateID=t,s.customID=t,s.dataType="Integer",s.label=n,s.metadata=o,s.fillingRules=i,s.unit=r,s.isQuestion=a,s.validators=u,s.toJSON=c}angular.module("otusjs.surveyItem").factory("IntegerQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","UnitFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o){function r(r,i){var a=t.create(),u=n.create(),c=o.create();return new e(r,i,a,u,c)}function i(r){if("string"==typeof r)throw new Error("otusjs.model.misc.model.PhoneQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var i=t.fromJsonObject(r.label),a=n.fromJsonObject(r.metadata),u=o.fromJsonObject(r.fillingRules),c={};c.objectType="SurveyItem";var s=new e(r.templateID,c,i,a,u);return s.customID=r.customID,s}var a=this;return a.create=r,a.fromJsonObject=i,a}function e(t,e,n,o,r){function i(){return!0}function a(){var t=["mandatory"];return t}function u(){var t={};return t.extents=c.extents,t.objectType=c.objectType,t.templateID=c.templateID,t.customID=c.customID,t.dataType=c.dataType,t.label=c.label,t.metadata=c.metadata,t.unit=c.unit,t.fillingRules=c.fillingRules,t}var c=this;c.extents=e.objectType,c.objectType="PhoneQuestion",c.templateID=t,c.customID=t,c.dataType="Integer",c.label=n,c.metadata=o,c.fillingRules=r,c.isQuestion=i,c.validators=a,c.toJSON=u}angular.module("otusjs.surveyItem").factory("PhoneQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o,r){function i(i,a){var u=t.create(),c=n.create(),s=r.create();return new e(i,a,o,u,c,s)}function a(i){if("string"==typeof i)throw new Error("otusjs.model.misc.model.SingleSelectionQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var a=t.fromJsonObject(i.label),u=n.fromJsonObject(i.metadata),c=r.fromJsonObject(i.fillingRules),s={};s.objectType="SurveyItem";var l=new e(i.templateID,s,o,a,u,c);return i.options.forEach(function(t){l.options.push(o.fromJsonObject(t))}),l.customID=i.customID,l}var u=this;return u.create=i,u.fromJsonObject=a,u}function e(t,e,n,o,r,i){function a(){return b.options.length}function u(t){var e=b.options.filter(function(e){if(e.value===t)return e});return e[0]}function c(t){var e=b.options.filter(function(e){if(e.extractionValue.toString()===t.toString())return e});return e[0]}function s(){return!0}function l(){var t=["mandatory"];return t}function f(){var t=b.options.length;do t++;while(!v(t)||!y(t));var e=n.create(t,t);return b.options.push(e),e}function m(t){b.options.splice(t-1,1),g()}function d(){b.options.splice(-1,1)}function v(t){return!c(t)}function y(t){return!u(t)}function p(){var t={};return t.extents=b.extents,t.objectType=b.objectType,t.templateID=b.templateID,t.customID=b.customID,t.dataType=b.dataType,t.label=b.label,t.options=b.options,t.metadata=b.metadata,t.fillingRules=b.fillingRules,t}function g(){b.options.forEach(function(t,e){t.value=++e})}var b=this;b.extents=e.objectType,b.objectType="SingleSelectionQuestion",b.templateID=t,b.customID=t,b.dataType="Integer",b.label=o,b.metadata=r,b.fillingRules=i,b.options=[],b.getOptionListSize=a,b.getOptionByValue=u,b.getOptionByExtractionValue=c,b.createOption=f,b.removeOption=m,b.removeLastOption=d,b.isQuestion=s,b.validators=l,b.isAvailableExtractionValue=v,b.isAvailableValue=y,b.toJSON=p}angular.module("otusjs.surveyItem").factory("SingleSelectionQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","AnswerOptionFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o){function r(r,i){var a=t.create(),u=n.create(),c=o.create();return new e(r,i,a,u,c)}function i(r){if("string"==typeof r)throw new Error("otusjs.model.misc.model.TextQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var i=t.fromJsonObject(r.label),a=n.fromJsonObject(r.metadata),u=o.fromJsonObject(r.fillingRules),c={};c.objectType="SurveyItem";var s=new e(r.templateID,c,i,a,u);return s.customID=r.customID,s}var a=this;return a.create=r,a.fromJsonObject=i,a}function e(t,e,n,o,r){function i(){return!0}function a(){var t=["mandatory","alphanumeric","lowerCase","minLength","maxLength","specials","upperCase"];return t}function u(){var t={};return t.extents=c.extents,t.objectType=c.objectType,t.templateID=c.templateID,t.customID=c.customID,t.dataType=c.dataType,t.label=c.label,t.metadata=c.metadata,t.fillingRules=c.fillingRules,t}var c=this;c.extents=e.objectType,c.objectType="TextQuestion",c.templateID=t,c.customID=t,c.dataType="String",c.label=n,c.metadata=o,c.fillingRules=r,c.isQuestion=i,c.validators=a,c.toJSON=u}angular.module("otusjs.surveyItem").factory("TextQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","FillingRulesOptionFactory"]}(),function(){function t(t,n,o,r){function i(i,a){var u=t.create(),c=n.create(),s=o.create(),l=r.create();return new e(i,a,u,c,s,l)}function a(i){if("string"==typeof i)throw new Error("otusjs.model.misc.model.TimeQuestionFactory.fromJsonObject() method expects to receive a object instead a String");var a,u=t.fromJsonObject(i.label),c=n.fromJsonObject(i.metadata),s=o.fromJsonObject(i.fillingRules);a=void 0==i.options?r.create():r.fromJsonObject(i.options);var l={};l.objectType="SurveyItem";var f=new e(i.templateID,l,u,c,s,a);return f.customID=i.customID,f}var u=this;return u.create=i,u.fromJsonObject=a,u}function e(t,e,n,o,r,i){function a(){return!0}function u(){var t=["mandatory","minTime","maxTime"];return t}function c(){var t={};return t.extents=s.extents,t.objectType=s.objectType,t.templateID=s.templateID,t.customID=s.customID,t.dataType=s.dataType,t.label=s.label,t.metadata=s.metadata,t.fillingRules=s.fillingRules,t.options=s.options,t}var s=this;s.extents=e.objectType,s.objectType="TimeQuestion",s.templateID=t,s.customID=t,s.dataType="LocalTime",s.label=n,s.metadata=o,s.fillingRules=r,s.options=i,s.isQuestion=a,s.validators=u,s.toJSON=c}angular.module("otusjs.surveyItem").factory("TimeQuestionFactory",t),t.$inject=["LabelFactory","MetadataGroupFactory","FillingRulesOptionFactory","QuestionOptionFactory"]}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.AcceptAnswerFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.reference=!1}angular.module("otusjs.validation").factory("otusjs.model.accept.AcceptAnswerFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.MandatoryValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!1,t.reference=!0}angular.module("otusjs.validation").factory("MandatoryValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.ParameterValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=""}angular.module("otusjs.validation").factory("ParameterValidatorFactory",t)}(),function(){function t(t){function e(){return t.create()}function n(e){return t.fromJson(e)}var o=this;return o.createAliquotLot=e,o.buildAliquotLotFromJson=n,o}angular.module("otusjs.laboratory.exam").service("otusjs.laboratory.exam.ExamService",t),t.$inject=["otusjs.laboratory.exam.ExamLotFactory"]}(),function(){function t(t){function e(){return t.create()}function n(e,n){return t.fromJson(e,n)}var o=this;return o.createExamSending=e,o.buildExamSendingFromJson=n,o}angular.module("otusjs.laboratory.exam.sending").service("otusjs.laboratory.exam.sending.ExamSendingLotService",t),t.$inject=["otusjs.laboratory.exam.sending.ExamSendingFactory"]}(),function(){function t(){function t(){return new e({})}function n(t){return new e(t)}function o(t){return Array.isArray(t)?t.map(function(t){return new e(t)}):[]}var r=this;return r.create=t,r.fromJson=n,r.fromArray=o,r}function e(t){function e(){var t={};return t._id=n._id,t.objectType=n.objectType,t.name=n.name,t.order=n.order,t.acronym=n.acronym,t.activityId=n.activityId,t.description=n.description,t}var n=this;return n._id=t._id||null,n.objectType="ActivityAutoFillEvent",n.icon="home_work",n.name=t.name||"",n.order=t.order,n.acronym=t.acronym||"",n.activityId=t.activityId||"",n.description=t.description||"",n.participantEvents=t.participantEvents||[],n.toJSON=e,n}angular.module("otusjs.model.outcome").factory("otusjs.model.outcome.ActivityAutoFillEventFactory",t),t.$inject=[]}(),function(){function t(t,e,n){function o(t){s=t}function r(e,n){if("BEGIN NODE"!==e.origin){var o=e.conditions.map(i),r=t.createAlternative(e.origin,e.destination,o);return n.createAlternativeRoute(r),u(r,n),r}}function i(t){var n=t.rules.map(a);return e.create(t.name,n)}function a(t){var e=t.when.templateID||t.when,o=t.operator.type||t.operator,r=t.answer;return n.create(e,o,r,t.isMetadata,t.isCustom)}function u(t,e){var n=s.getNavigationByOrigin(t.destination);n.updateInNavigation(e)}var c=this,s=null;c.setContainer=o,c.execute=r}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.AlternativeRouteCreationTaskService",t),t.$inject=["otusjs.model.navigation.RouteFactory","otusjs.model.navigation.RouteConditionFactory","otusjs.model.navigation.RuleFactory"]}(),function(){function t(t){function e(t){a=t}function n(e,n){var i;if(n.hasDefaultRoute()){var a=n.getDefaultRoute();i=t.createDefault(e.origin,e.destination),n.setupDefaultRoute(i),o(a,n),r(i,n)}else i=t.createDefault(e.origin,e.destination),n.setupDefaultRoute(i),r(i,n)}function o(t,e){var n=a.getNavigationByOrigin(t.destination);n.removeInNavigation(e)}function r(t,e){var n=a.getNavigationByOrigin(t.destination);n.updateInNavigation(e)}var i=this,a=null;i.setContainer=e,i.execute=n}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.DefaultRouteCreationTaskService",t),t.$inject=["otusjs.model.navigation.RouteFactory"]}(),function(){function t(){function t(t){o=t}function e(t,e){e.removeRouteByName(t.name);var n=o.getNavigationByOrigin(t.destination);n.removeInNavigation(e)}var n=this,o=null;n.setContainer=t,n.execute=e}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.RouteRemovalTaskService",t)}(),function(){function t(t,e,n,o){function r(t){f=t}function i(t,e){if(a(t,e.getDefaultRoute()))throw new Error("Is not possible update a default route.","update-route-task-service.js",23);if(t.isDefault)o.execute(t,e);else{var r=t.conditions.map(u),i=n.createAlternative(t.origin,t.destination,r);e.updateRoute(i),s(i,e)}}function a(t,e){var n=e.origin===t.origin,o=e.destination===t.destination;return n&&o}function u(t){var n=t.rules.map(c);return e.create(t.name,n)}function c(e){var n=e.when.templateID||e.when,o=e.operator.type||e.operator,r=e.answer;return t.create(n,o,r,e.isMetadata,e.isCustom)}function s(t,e){var n=f.getNavigationByOrigin(t.destination);n&&n.updateInNavigation(e)}var l=this,f=null;l.setContainer=r,l.execute=i}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.RouteUpdateTaskService",t),t.$inject=["otusjs.model.navigation.RuleFactory","otusjs.model.navigation.RouteConditionFactory","otusjs.model.navigation.RouteFactory","otusjs.model.navigation.DefaultRouteCreationTaskService"]}(),function(){function t(t){function e(t){r=t}function n(){r.resetData(),t.execute()}var o=this,r=null;o.setContainer=e,o.execute=n}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.ContainerInitializationTaskService",t),
t.$inject=["otusjs.model.navigation.InitialNodesCreationTaskService"]}(),function(){function t(t){function e(t){r=t}function n(e){r.setInitialNodes();var n={origin:r.getBeginNode().origin,destination:r.getEndNode().origin};t.execute(n,r.getNavigationList()[0])}var o=this,r=null;o.setContainer=e,o.execute=n}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.InitialNodesCreationTaskService",t),t.$inject=["otusjs.model.navigation.DefaultRouteCreationTaskService"]}(),function(){function t(t,e){function n(t){i=t}function o(n){var o,r=i.createNavigationTo(n.templateID);o=2===r.index?i.getPreviousOf(r.index-1):i.getPreviousOf(r.index);var a={origin:r.origin,destination:o.getDefaultRoute().destination};e.execute(a,r);var u={origin:o.origin,destination:r.origin,isDefault:!0};t.execute(u,o)}var r=this,i=null;r.setContainer=n,r.execute=o}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.NavigationCreationTaskService",t),t.$inject=["otusjs.model.navigation.RouteUpdateTaskService","otusjs.model.navigation.DefaultRouteCreationTaskService"]}(),function(){function t(t,e){function n(t){u=t}function o(e,n,o){e.clearNavigation();var a=u.insertNavigation(e,n,o),c=u.getNextOf(a),s=i(e.origin,c.origin);t.execute(s,e),0===o&&r(c,e),u.reorderNavigationIndex()}function r(n,o){var r="BEGIN NODE",a=u.getNavigationByOrigin(r),c=i(r,n.origin);e.execute(c,a);var s=i(r,o.origin);t.execute(s,a)}function i(t,e){var n={};return n.isDefault=!0,n.name=t+"_"+e,n.origin=t,n.destination=e,n}var a=this,u=null;a.setContainer=n,a.execute=o}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.NavigationInsertionTask",t),t.$inject=["otusjs.model.navigation.DefaultRouteCreationTaskService","otusjs.model.navigation.RouteRemovalTaskService"]}(),function(){function t(t,e,n,o){function r(t){u=t}function i(t,n){var r=u.getNavigationByOrigin(t),i=u.getNavigationPosition(r);i!==n+2&&(e.execute(t),o.execute(r,i,n))}var a=this,u=null;a.setContainer=r,a.execute=i}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.NavigationMovementTaskService",t),t.$inject=["otusjs.model.navigation.DefaultRouteCreationTaskService","otusjs.model.navigation.NavigationRemovalTaskService","otusjs.model.navigation.RouteRemovalTaskService","otusjs.model.navigation.NavigationInsertionTask"]}(),function(){function t(t){function e(t){i=t}function n(e){function n(n){var a=i.getNavigationByOrigin(n.origin);if(a)if(a.isDefaultRoute(e)){var u=o(a,r);t.execute(u,a)}else{var c=i.getNavigationByOrigin(n.origin);c.removeRouteByDestination(e)}}var r=i.getNavigationByOrigin(e),a=angular.copy(r.inNavigations);a.forEach(function(t){return n(t)}),i.removeNavigationOf(e),i.reorderNavigationIndex()}function o(t,e){var n={};if(n.isDefault=!0,n.origin=t.routes[0].origin,n.destination=e.routes[0].destination,"BEGIN NODE"===t.origin){var o=i.getNextOf(i.getNavigationPosition(e));n.destination=o.origin}return n}var r=this,i=null;r.setContainer=e,r.execute=n}angular.module("otusjs.model.navigation").service("otusjs.model.navigation.NavigationRemovalTaskService",t),t.$inject=["otusjs.model.navigation.RouteUpdateTaskService"]}(),function(){function t(){function t(t){return new e(t)}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.LayoutGridFactory.fromJsonObject() method expects to receive a object instead a String");var n=t.width,o=new e(n);return o}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(t){function e(t){r.width=t}function n(){return r.width}function o(){var t={};return t.extents=r.extents,t.objectType=r.objectType,t.width=r.width,t}var r=this;r.extents="StudioObject",r.objectType="LayoutGrid",r.width=t||100,r.setWidth=e,r.getWidth=n,r.toJSON=o}angular.module("otusjs.surveyItem").factory("otusjs.model.question.LayoutGridFactory",t),t.$inject=[]}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.validation.MaxSelectedValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("otusjs.model.validation.MaxSelectedValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.validation.MinSelectedValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("otusjs.model.validation.MinSelectedValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.validation.QuantityValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("otusjs.model.validation.QuantityValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.FutureDateValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=!1}angular.module("otusjs.validation").factory("FutureDateValidatorFactory",t)}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.MaxDateValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);return o.canBeIgnored=n.canBeIgnored,o.reference=n.reference,o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){var e=this;e.canBeIgnored=!0,e.reference={value:null}}angular.module("otusjs.validation").factory("MaxDateValidatorFactory",t),t.$inject=["otusjs.utils.ImmutableDate"]}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.MinDateValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);return o.canBeIgnored=n.canBeIgnored,o.reference=n.reference,o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){var e=this;e.canBeIgnored=!0,e.reference={value:null}}angular.module("otusjs.validation").factory("MinDateValidatorFactory",t),t.$inject=["otusjs.utils.ImmutableDate"]}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.PastDateValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=!1}angular.module("otusjs.validation").factory("PastDateValidatorFactory",t),t.$inject=["otusjs.utils.ImmutableDate"]}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.RangeDateValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);return o.canBeIgnored=n.canBeIgnored,o.reference=n.reference,o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){var e=this;e.canBeIgnored=!0,e.reference={initial:{value:null},end:{value:null}}}angular.module("otusjs.validation").factory("RangeDateValidatorFactory",t),t.$inject=["otusjs.utils.ImmutableDate"]}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.DistinctValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("DistinctValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.InValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference={initial:null,end:null}}angular.module("otusjs.validation").factory("InValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.LowerLimitValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("LowerLimitValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.UpperLimitValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("UpperLimitValidatorFactory",t)}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.MaxTimeValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);return o.canBeIgnored=n.canBeIgnored,o.reference=n.reference,o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){var e=this;e.canBeIgnored=!0,e.reference={value:""}}angular.module("otusjs.validation").factory("MaxTimeValidatorFactory",t),t.$inject=["otusjs.utils.ImmutableDate"]}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.misc.model.MinTimeValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);return o.canBeIgnored=n.canBeIgnored,o.reference=n.reference,o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){var e=this;e.canBeIgnored=!0,e.reference={value:""}}angular.module("otusjs.validation").factory("MinTimeValidatorFactory",t),t.$inject=["otusjs.utils.ImmutableDate"]}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.AlphanumericValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=!0}angular.module("otusjs.validation").factory("AlphanumericValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.LowerCaseValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=!0}angular.module("otusjs.validation").factory("LowerCaseValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.MaxLengthValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("MaxLengthValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.MinLengthValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("MinLengthValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.SpecialsValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=!0}angular.module("otusjs.validation").factory("SpecialsValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.UpperCaseValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=!0}angular.module("otusjs.validation").factory("UpperCaseValidatorFactory",t)}(),function(){function t(t,n,o){function r(r){var i=t.create(),a=o.create(),u={};return u.ptBR=n.create(),u.enUS=n.create(),u.esES=n.create(),new e(r,i,a,u)}function i(r){if("string"==typeof r)throw new Error("otusjs.model.misc.model.GridTextFactory.fromJsonObject() method expects to receive a object instead a String");var i=t.fromJsonObject(r.label),a={};a.ptBR=n.fromJsonObject(r.unit.ptBR),a.enUS=n.fromJsonObject(r.unit.enUS),a.esES=n.fromJsonObject(r.unit.esES);var u=o.fromJsonObject(r.layout),c=new e(r.templateID,i,u,a);return c.customID=r.customID,c}var a=this;return a.create=r,a.fromJsonObject=i,a}function e(t,e,n,o){function r(t){l.layout.width=t}function i(){return l.layout.width}function a(t){l.layout.color=t}function u(){return l.layout.color}function c(){return!0}function s(){var t={};return t.extents=l.extents,t.objectType=l.objectType,t.templateID=l.templateID,t.customID=l.customID,t.dataType=l.dataType,t.label=l.label,t.layout=l.layout,t.unit=l.unit,t}var l=this;l.extents="SurveyItem",l.objectType="GridText",l.templateID=t,l.customID=t,l.dataType="String",l.label=e,l.layout=n,l.unit=o,l.setWidth=r,l.getWidth=i,l.setColor=a,l.getColor=u,l.isQuestion=c,l.toJSON=s}angular.module("otusjs.surveyItem").factory("otusjs.model.question.GridTextFactory",t),t.$inject=["LabelFactory","UnitFactory","otusjs.model.question.LayoutGridFactory"]}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.question.model.GridTextLine.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);return o.loadGridTextListFromJsonObject(n.gridTextList),o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){function e(e){var n=t.create(e);return m.push(n),n}function n(t){return m.splice(t-1,1)}function o(){return m.splice(-1,1)}function r(t){return m.filter(t)}function i(t){return m.filter(function(e,n){if(n===t)return e})}function a(){return m}function u(){return m.length}function c(){return m.map(function(t){return t.customID})}function s(e){m=[],e.forEach(function(e){m.push(t.fromJsonObject(e))})}function l(){var t={};return t.extents=f.extents,t.objectType=f.objectType,t.gridTextList=m,t}var f=this,m=[];f.extents="StudioObject",f.objectType="GridTextLine",f.addGridText=e,f.removeGridText=n,f.removeLastGridText=o,f.filterItems=r,f.getGridTextIndex=i,f.getGridTextList=a,f.getGridTextListSize=u,f.getAllGridTextCustomOptionsID=c,f.loadGridTextListFromJsonObject=s,f.toJSON=l}angular.module("otusjs.surveyItem").factory("otusjs.model.question.GridTextLineFactory",t),t.$inject=["otusjs.model.question.GridTextFactory"]}(),function(){function t(t,n,o,r){function i(i,a){var u=t.create(),c=n.create(),s=o.create();return new e(i,a,u,c,s,r)}function a(i){if("string"==typeof i)throw new Error("otusjs.model.question.model.GridTextQuestion.fromJsonObject() method expects to receive a object instead a String");var a=t.fromJsonObject(i.metadata),u=n.fromJsonObject(i.fillingRules),c=o.fromJsonObject(i.label),s={};s.objectType="SurveyItem";var l=new e(i.templateID,s,a,u,c,r);return l.loadFromJsonLinesObject(i.lines),l.customID=i.customID,l}var u=this;return u.create=i,u.fromJsonObject=a,u}function e(t,e,n,o,r,i){function a(){var t=i.create();return j.push(t),t}function u(t){j.splice(t,1)}function c(){j.splice(-1,1)}function s(t){return j.filter(t)}function l(t){return j.indexOf(t)}function f(){return j}function m(){return j.length}function d(){return!0}function v(){var t=["mandatory"];return t}function y(){return j.map(function(t){return t.getAllGridTextCustomOptionsID()})}function p(t){j=[],t.forEach(function(t){j.push(i.fromJsonObject(t))})}function g(){var t={};return t.extents=b.extents,t.objectType=b.objectType,t.templateID=b.templateID,t.customID=b.customID,t.metadata=b.metadata,t.fillingRules=b.fillingRules,t.label=b.label,t.lines=[],j.forEach(function(e){t.lines.push(e)}),t}var b=this,j=[];b.extents=e.objectType,b.objectType="GridTextQuestion",b.templateID=t,b.customID=t,b.metadata=n,b.fillingRules=o,b.label=r,b.createLine=a,b.removeLine=u,b.removeLastLine=c,b.filterItems=s,b.getLineIndex=l,b.getLinesList=f,b.getLinesListSize=m,b.isQuestion=d,b.validators=v,b.getAllCustomOptionsID=y,b.loadFromJsonLinesObject=p,b.toJSON=g}angular.module("otusjs.surveyItem").factory("otusjs.model.question.GridTextQuestionFactory",t),t.$inject=["MetadataGroupFactory","FillingRulesOptionFactory","LabelFactory","otusjs.model.question.GridTextLineFactory"]}(),function(){function t(t,n,o){function r(r){var i=t.create(),a=o.create(),u={};return u.ptBR=n.create(),u.enUS=n.create(),u.esES=n.create(),new e(r,i,a,u)}function i(r){if("string"==typeof r)throw new Error("otusjs.model.misc.model.GridIntegerFactory.fromJsonObject() method expects to receive a object instead a String");var i=t.fromJsonObject(r.label),a={};a.ptBR=n.fromJsonObject(r.unit.ptBR),a.enUS=n.fromJsonObject(r.unit.enUS),a.esES=n.fromJsonObject(r.unit.esES);var u=o.fromJsonObject(r.layout),c=new e(r.templateID,i,u,a);return c.customID=r.customID,c}var a=this;return a.create=r,a.fromJsonObject=i,a}function e(t,e,n,o){function r(t){l.layout.width=t}function i(){return l.layout.width}function a(t){l.layout.color=t}function u(){return l.layout.color}function c(){return!0}function s(){var t={};return t.extents=l.extents,t.objectType=l.objectType,t.templateID=l.templateID,t.customID=l.customID,t.dataType=l.dataType,t.label=l.label,t.layout=l.layout,t.unit=l.unit,t}var l=this;l.extents="SurveyItem",l.objectType="GridInteger",l.templateID=t,l.customID=t,l.dataType="Integer",l.label=e,l.layout=n,l.unit=o,l.setWidth=r,l.getWidth=i,l.setColor=a,l.getColor=u,l.isQuestion=c,l.toJSON=s}angular.module("otusjs.surveyItem").factory("otusjs.model.question.GridIntegerFactory",t),t.$inject=["LabelFactory","UnitFactory","otusjs.model.question.LayoutGridFactory"]}(),function(){function t(t){function n(){return new e(t)}function o(n){if("string"==typeof n)throw new Error("otusjs.model.question.model.GridIntegerLine.fromJsonObject() method expects to receive a object instead a String");var o=new e(t);return o.loadGridIntegerListFromJsonObject(n.gridIntegerList),o}var r=this;return r.create=n,r.fromJsonObject=o,r}function e(t){function e(e){var n=t.create(e);return m.push(n),n}function n(t){return m.splice(t-1,1)}function o(){return m.splice(-1,1)}function r(t){return m.filter(t)}function i(t){return m.filter(function(e,n){if(n===t)return e})}function a(){return m}function u(){return m.length}function c(){return m.map(function(t){return t.customID})}function s(e){m=[],e.forEach(function(e){m.push(t.fromJsonObject(e))})}function l(){var t={};return t.extents=f.extents,t.objectType=f.objectType,t.gridIntegerList=m,t}var f=this,m=[];f.extents="StudioObject",f.objectType="GridIntegerLine",f.addGridInteger=e,f.removeGridInteger=n,f.removeLastGridInteger=o,f.filterItems=r,f.getGridIntegerIndex=i,f.getGridIntegerList=a,f.getGridIntegerListSize=u,f.getAllGridIntegerCustomOptionsID=c,f.loadGridIntegerListFromJsonObject=s,f.toJSON=l}angular.module("otusjs.surveyItem").factory("otusjs.model.question.GridIntegerLineFactory",t),t.$inject=["otusjs.model.question.GridIntegerFactory"]}(),function(){function t(t,n,o,r){function i(i,a){var u=t.create(),c=n.create(),s=o.create();return new e(i,a,u,c,s,r)}function a(i){if("string"==typeof i)throw new Error("otusjs.model.question.model.GridIntegerQuestion.fromJsonObject() method expects to receive a object instead a String");var a=t.fromJsonObject(i.metadata),u=n.fromJsonObject(i.fillingRules),c=o.fromJsonObject(i.label),s={};s.objectType="SurveyItem";var l=new e(i.templateID,s,a,u,c,r);return l.loadFromJsonLinesObject(i.lines),l.customID=i.customID,l}var u=this;return u.create=i,u.fromJsonObject=a,u}function e(t,e,n,o,r,i){function a(){var t=i.create();return j.push(t),t}function u(t){j.splice(t,1)}function c(){j.splice(-1,1)}function s(t){return j.filter(t)}function l(t){return j.indexOf(t)}function f(){return j}function m(){return j.length}function d(){return!0}function v(){var t=["mandatory"];return t}function y(){return j.map(function(t){return t.getAllGridIntegerCustomOptionsID()})}function p(t){j=[],t.forEach(function(t){j.push(i.fromJsonObject(t))})}function g(){var t={};return t.extents=b.extents,t.objectType=b.objectType,t.templateID=b.templateID,t.customID=b.customID,t.metadata=b.metadata,t.fillingRules=b.fillingRules,t.label=b.label,t.lines=[],j.forEach(function(e){t.lines.push(e)}),t}var b=this,j=[];b.extents=e.objectType,b.objectType="GridIntegerQuestion",b.templateID=t,b.customID=t,b.metadata=n,b.fillingRules=o,b.label=r,b.createLine=a,b.removeLine=u,b.removeLastLine=c,b.filterItems=s,b.getLineIndex=l,b.getLinesList=f,b.getLinesListSize=m,b.isQuestion=d,b.validators=v,b.getAllCustomOptionsID=y,b.loadFromJsonLinesObject=p,b.toJSON=g}angular.module("otusjs.surveyItem").factory("otusjs.model.question.GridIntegerQuestionFactory",t),t.$inject=["MetadataGroupFactory","FillingRulesOptionFactory","LabelFactory","otusjs.model.question.GridIntegerLineFactory"]}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.ScaleValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("ScaleValidatorFactory",t)}(),function(){function t(){function t(){return new e}function n(t){if("string"==typeof t)throw new Error("otusjs.model.misc.model.PrecisionValidatorFactory.fromJsonObject() method expects to receive a object instead a String");var n=new e;return n.canBeIgnored=t.canBeIgnored,n.reference=t.reference,n}var o=this;return o.create=t,o.fromJsonObject=n,o}function e(){var t=this;t.canBeIgnored=!0,t.reference=null}angular.module("otusjs.validation").factory("PrecisionValidatorFactory",t)}();